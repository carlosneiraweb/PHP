<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Copiar un fichero interno de un archivo phar a otro fichero nuevo dentro del phar</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="phar.converttoexecutable.html">Phar::convertToExecutable</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="phar.count.html">Phar::count</a></div>
 <div class="up"><a href="class.phar.html">Phar</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="phar.copy" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Phar::copy</h1>
  <p class="verinfo">(PHP &gt;= 5.3.0, PECL phar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">Phar::copy</span> &mdash; <span class="dc-title">Copiar un fichero interno de un archivo phar a otro fichero nuevo dentro del phar</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-phar.copy-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><strong>Phar::copy</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$oldfile</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$newfile</code></span>
   )</div>

  <blockquote class="note"><p><strong class="note">Nota</strong>: <p class="para">Este
método requiere que la opción de <var class="filename">php.ini</var> <em>phar.readonly</em> esté establecida
a <em>0</em> para que trabaje con objetos <a href="class.phar.html" class="classname">Phar</a>.
De otra manera, se lanzará una excepción de tipo <a href="class.pharexception.html" class="classname">PharException</a>.</p></p></blockquote>
  
  <p class="para">
   Copia un fichero interno de un archivo phar a otro fichero nuevo dentro del phar.
   Esta es una alternativa orientada a objetos para usar <span class="function"><a href="function.copy.html" class="function">copy()</a></span> con
   la envoltura de flujos phar.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-phar.copy-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">oldfile</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">newfile</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  </p>
  
 </div>

 <div class="refsect1 returnvalues" id="refsect1-phar.copy-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code>TRUE</code></strong> en caso de éxito, pero es más seguro encerrar la llamada al método en un
   bloque try/catch y asumir el éxito si no se lanza ninguna excepción.
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-phar.copy-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Lanza una excepción de tipo <a href="class.unexpectedvalueexception.html" class="classname">UnexpectedValueException</a> si el fichero origen no
   exite, el fichero destino ya existe, el acceso a escritura está deshabilitado, la apertura de cualquiera de los
   dos ficheros falla, la lectura del fichero fuente falla, o una excepción de tipo <a href="class.pharexception.html" class="classname">PharException</a>
   si la escritura de los cambios del phar falla.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-phar.copy-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-752">
    <p><strong>Ejemplo #1 Un ejemplo de <span class="function"><strong>Phar::copy()</strong></span></strong></p>
    <div class="example-contents"><p>
     Este ejemplo muestra el uso de <span class="function"><strong>Phar::copy()</strong></span> y su
     equivalente con envoltura de flujos. La principal
     diferencia entre los dos enfoques es el manejo de errores. Todos los métodos de Phar
     lanzan excepciones, mientras que la envoltura de flujos utiliza <span class="function"><a href="function.trigger-error.html" class="function">trigger_error()</a></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'miphar.phar'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'hola'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;imprime&nbsp;"hola"<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;manejar&nbsp;errores<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;el&nbsp;equivalente&nbsp;con&nbsp;envoltura&nbsp;de&nbsp;flujos&nbsp;del&nbsp;código&nbsp;de&nbsp;arriba.<br />//&nbsp;Se&nbsp;dispara&nbsp;E_WARNINGS&nbsp;en&nbsp;caso&nbsp;de&nbsp;error&nbsp;en&nbsp;vez&nbsp;de&nbsp;excepciones.<br /></span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://miphar.phar/a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'phar//miphar.phar/c'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://miphar.phar/c'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;imprimie&nbsp;"hola"<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="phar.converttoexecutable.html">Phar::convertToExecutable</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="phar.count.html">Phar::count</a></div>
 <div class="up"><a href="class.phar.html">Phar</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
