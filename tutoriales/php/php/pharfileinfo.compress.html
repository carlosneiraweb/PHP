<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Comprimir la entrada del Phar actual con la compresi&oacute;n zlib o bzip2</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="pharfileinfo.chmod.html">PharFileInfo::chmod</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="pharfileinfo.construct.html">PharFileInfo::__construct</a></div>
 <div class="up"><a href="class.pharfileinfo.html">PharFileInfo</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="pharfileinfo.compress" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PharFileInfo::compress</h1>
  <p class="verinfo">(PHP &gt;= 5.3.0, PECL phar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">PharFileInfo::compress</span> &mdash; <span class="dc-title">Comprimir la entrada del Phar actual con la compresión zlib o bzip2</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-pharfileinfo.compress-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><strong>PharFileInfo::compress</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$compression</code></span>
   )</div>

  
  <p class="para rdfs-comment">
   Este método comprime el fichero dentro de un archivo Phar usando la compresión bzip2
   o zlib.
   Las extensiones <a href="ref.bzip2.html" class="link">bzip2</a> o <a href="ref.zlib.html" class="link">zlib</a>
   deben estar habilitadas para aprovechar
   esta característica. Además, si el fichero ya está comprimido,
   la extensión respectiva debe estar habilitada para poder
   descomprimir el fichero. Al igual que con toda la funcionalidad que modifica el contenido de
   un Phar, la variable INI <a href="phar.configuration.html#ini.phar.readonly" class="link">phar.readonly</a>
   debe estar desactivada para poder realizar esto si el fichero está dentro de un archivo
   <a href="class.phar.html" class="classname">Phar</a>. Los ficheros dentro de archivos <a href="class.phardata.html" class="classname">PharData</a> no tienen
   esta restricción.
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-pharfileinfo.compress-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code>TRUE</code></strong> en caso de éxito o <strong><code>FALSE</code></strong> en caso de error.
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-pharfileinfo.compress-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Lanza una excepción de tipo <a href="class.badmethodcallexception.html" class="classname">BadMethodCallException</a> si
   la variable INI <a href="phar.configuration.html#ini.phar.readonly" class="link">phar.readonly</a>
   está activada, la extensión <a href="ref.bzip2.html" class="link">bzip2</a>/<a href="ref.zlib.html" class="link">zlib</a>
   no está disponible.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-pharfileinfo.compress-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-806">
    <p><strong>Ejemplo #1 Un ejemplo de <span class="function"><strong>PharFileInfo::compress()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'/ruta/a/mi.phar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mi.phar'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'mifichero.txt'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'hola'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fichero&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'mifichero.txt'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fichero</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isCompressed</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'mifichero.txt'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">compress</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fichero</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isCompressed</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">BZ2</span><span style="color: #007700">));<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Falló&nbsp;la&nbsp;operación&nbsp;de&nbsp;crear/modificar&nbsp;mi.phar:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
bool(false)
bool(true)
</pre></div>
    </div>
   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-pharfileinfo.compress-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="pharfileinfo.getcompressedsize.html" class="function" rel="rdfs-seeAlso">PharFileInfo::getCompressedSize()</a> - Devolver el tama&ntilde;o real de un fichero (con compresi&oacute;n) dentro de un archivo Phar</span></li>
    <li class="member"><span class="function"><a href="pharfileinfo.iscompressed.html" class="function" rel="rdfs-seeAlso">PharFileInfo::isCompressed()</a> - Devolver si la entrada est&aacute; comprimida</span></li>
    <li class="member"><span class="function"><a href="pharfileinfo.decompress.html" class="function" rel="rdfs-seeAlso">PharFileInfo::decompress()</a> - Descomprimir la entrada Phar actual dentro del phar</span></li>
    <li class="member"><span class="function"><a href="phar.cancompress.html" class="function" rel="rdfs-seeAlso">Phar::canCompress()</a> - Devuelve si la extensi&oacute;n phar soporta la compresi&oacute;n usando zlib o bzip2</span></li>
    <li class="member"><span class="function"><a href="phar.iscompressed.html" class="function" rel="rdfs-seeAlso">Phar::isCompressed()</a> - Devuelve Phar::GZ oPHAR::BZ2 si el archivo phar entero est&aacute; comprimido (.tar.gz/tar.bz, etc.)</span></li>
    <li class="member"><span class="function"><a href="phar.compressfiles.html" class="function" rel="rdfs-seeAlso">Phar::compressFiles()</a> - Comprime todos los ficheros del archivo Phar actual</span></li>
    <li class="member"><span class="function"><a href="phar.decompressfiles.html" class="function" rel="rdfs-seeAlso">Phar::decompressFiles()</a> - Descomprimir todos los ficheros del archivo Phar actual</span></li>
    <li class="member"><span class="function"><a href="phar.compress.html" class="function" rel="rdfs-seeAlso">Phar::compress()</a> - Comprimir el archivo Phar entero usando la compresi&oacute;n Gzip o Bzip2</span></li>
    <li class="member"><span class="function"><a href="phar.decompress.html" class="function" rel="rdfs-seeAlso">Phar::decompress()</a> - Descomprimir un archivo Phar entero</span></li>
    <li class="member"><span class="function"><a href="phar.getsupportedcompression.html" class="function" rel="rdfs-seeAlso">Phar::getSupportedCompression()</a> - Devolver un array de los algoritmos de compresi&oacute;n soportados</span></li>
   </ul>
  </p>
 </div>

 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="pharfileinfo.chmod.html">PharFileInfo::chmod</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="pharfileinfo.construct.html">PharFileInfo::__construct</a></div>
 <div class="up"><a href="class.pharfileinfo.html">PharFileInfo</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
