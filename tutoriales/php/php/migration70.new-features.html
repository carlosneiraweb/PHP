<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Nuevas caracter&iacute;sticas</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="migration70.incompatible.html">Cambios retroincompatibles</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="migration70.deprecated.html">Caracter&iacute;sticas obsoletas en PHP 7.0.x</a></div>
 <div class="up"><a href="migration70.html">Migrar de PHP 5.6.x a PHP 7.0.x</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="migration70.new-features" class="sect1">
 <h2 class="title">Nuevas características</h2>
 
 <div class="sect2" id="migration70.new-features.scalar-type-declarations">
  <h3 class="title">Declaraciones de tipo escalar</h3>
  
  <p class="para">
   Las
   <a href="functions.arguments.html#functions.arguments.type-declaration" class="link">declaraciones de tipo</a> escalar
   vienen en dos sabores: coercitivo (por defecto) y estricto. Ahora se pueden forzar
   los siguientes tipos para parámetros (tanto coercitiva como estrictamente): cadenas de caracteres
   (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>), números enteros (<em>int</em>), números
   decimales (<span class="type"><a href="language.types.float.html" class="type float">float</a></span>), y booleanos (<em>bool</em>). Estos
   se añaden a los tipos introducidos en PHP 5: nombres de clases, interfaces,
   <span class="type"><a href="language.types.array.html" class="type array">array</a></span>s y <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>s.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Modo&nbsp;coercitivo<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">sumaDeEnteros</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">...</span><span style="color: #0000BB">$enteros</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$enteros</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sumaDeEnteros</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'3'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4.1</span><span style="color: #007700">));</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
int(9)
</pre></div>
   </div>
  </div>
  
  <p class="para">
   Para habilitar el modo estricto se debe colocar una simple directiva <a href="control-structures.declare.html" class="link"><em>declare</em></a> al
   inicio del fichero. Esto siginfica que la rigurosidad de la tipificación de escalares se
   configura en función de cada fichero. Esta directiva no solamente afecta a las declaraciones
   de tipo de parámetros, sino también al tipo de devolución de una función (véanse las
   <a href="functions.returning-values.html#functions.returning-values.type-declaration" class="link">declaraciones de tipo de devolución</a>),
   a funciones internas de PHP, y a funciones de extensiones
   cargadas.
  </p>
  
  <p class="para">
   Se puede encontrar la documentación completa y ejemplos de las declaraciones de tipo escalar en
   la
   referencia de
   <a href="functions.arguments.html#functions.arguments.type-declaration" class="link">declaraciones de tipo</a>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.return-type-declarations">
  <h3 class="title">Declaraciones de tipo de devolución</h3>
  
  <p class="para">
   PHP 7 añade soporte para
   <a href="functions.returning-values.html#functions.returning-values.type-declaration" class="link">declaraciones de tipo de devolución</a>.
   Similarmente a las
   <a href="functions.arguments.html#functions.arguments.type-declaration" class="link">declaraciones de tipo de argumento</a>,
   las declaraciones de tipo de devolución especifican el tipo del valor que será
   devuelto por una función. Están disponibles los mismos
   <a href="functions.arguments.html#functions.arguments.type-declaration.types" class="link">tipos</a>
   tanto para las declaraciones de tipo de devolución como para las declaraciones
   de tipo de argumento.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">sumarArrays</span><span style="color: #007700">(array&nbsp;...</span><span style="color: #0000BB">$arrays</span><span style="color: #007700">):&nbsp;array<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function(array&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;</span><span style="color: #0000BB">$arrays</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">sumarArrays</span><span style="color: #007700">([</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">],&nbsp;[</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">],&nbsp;[</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">]));</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; 6
    [1] =&gt; 15
    [2] =&gt; 24
)
</pre></div>
   </div>
  </div>
  
  <p class="para">
   Se puede encontrar la documentación completa y ejemplos de las declaraciones de tipo de devolución en
   la
   referencia de las
   <a href="functions.returning-values.html#functions.returning-values.type-declaration" class="link">declaraciones de tipo de devolución</a>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.null-coalesce-op">
  <h3 class="title">Operador de fusión de null</h3>
  
  <p class="para">
   El operador de fusión de null (<em>??</em>) se ha añadido como
   aliciente sintáctico para el caso común de la necesidad de utilizar un operador ternario junto
   con <span class="function"><a href="function.isset.html" class="function">isset()</a></span>. Devuelve su primer operando
   si existe y no es <strong><code>NULL</code></strong>; de lo contrario devuelve su segundo operando.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Obntener&nbsp;el&nbsp;valor&nbsp;de&nbsp;$_GET['usuario']&nbsp;y&nbsp;devolver&nbsp;'nadie'<br />//&nbsp;si&nbsp;no&nbsp;existe.<br /></span><span style="color: #0000BB">$nombre_usuario&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'usuario'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">'nadie'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Esto&nbsp;equivale&nbsp;a:<br /></span><span style="color: #0000BB">$nombre_usuario&nbsp;</span><span style="color: #007700">=&nbsp;isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'usuario'</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'usuario'</span><span style="color: #007700">]&nbsp;:&nbsp;</span><span style="color: #DD0000">'nadie'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;La&nbsp;fusión&nbsp;se&nbsp;puede&nbsp;encadenar:&nbsp;esto&nbsp;devolverá&nbsp;el&nbsp;primer<br />//&nbsp;valor&nbsp;definido&nbsp;de&nbsp;$_GET['usuario'],&nbsp;$_POST['usuario'],<br />//&nbsp;y&nbsp;'nadie'.<br /></span><span style="color: #0000BB">$nombre_usuario&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'usuario'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'usuario'</span><span style="color: #007700">]&nbsp;??&nbsp;</span><span style="color: #DD0000">'nadie'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  
  
 </div>
 
 <div class="sect2" id="migration70.new-features.spaceship-op">
  <h3 class="title">El operador nave espacial</h3>
  <p class="para">
   El operador nave espacial se emplea para comparar dos expresiones. Devuelve -1, 0 
   o 1 cuando <var class="varname"><var class="varname">$a</var></var> es respectivamente menor, igual, o mayor
   que <var class="varname"><var class="varname">$b</var></var>. Las comparaciones se realizan según las
   <a href="types.comparisons.html" class="link">reglas de comparación de tipos</a> usuales de PHP.
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Números&nbsp;enteros<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;0<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;-1<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;1<br /><br />//&nbsp;Numeros&nbsp;decimales<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">1.5&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">1.5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;0<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">1.5&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;-1<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">2.5&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #0000BB">1.5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;1<br />&nbsp;<br />//&nbsp;Cadenas&nbsp;de&nbsp;caracteres<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;0<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;-1<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">&lt;=&gt;&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;1<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  
  
 </div>
 
 <div class="sect2" id="migration70.new-features.define-array">
  <h3 class="title">Arrays constantes con <span class="function"><a href="function.define.html" class="function">define()</a></span></h3>
  
  <p class="para">
   Ahora se pueden definir constantes de <span class="type"><a href="language.types.array.html" class="type array">array</a></span> con
   <span class="function"><a href="function.define.html" class="function">define()</a></span>. En PHP 5.6, solamente se podían definir con
   <a href="language.constants.syntax.html" class="link"><em>const</em></a>.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />define</span><span style="color: #007700">(</span><span style="color: #DD0000">'ANIMALES'</span><span style="color: #007700">,&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'perro'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'gato'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'pájaro'<br /></span><span style="color: #007700">]);<br /><br />echo&nbsp;</span><span style="color: #0000BB">ANIMALES</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;imprime&nbsp;"gato"<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.anonymous-classes">
  <h3 class="title">Clases anónimas</h3>
  
  <p class="para">
   Se ha añadido soporte para clases anónimas mediante <em>new
   clase</em>. Estas se pueden utilizar en lugar de definiciones de clases completas
   para objetos desechables:
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">Logger&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$msg</span><span style="color: #007700">);<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Application&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getLogger</span><span style="color: #007700">():&nbsp;</span><span style="color: #0000BB">Logger&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(</span><span style="color: #0000BB">Logger&nbsp;$logger</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$app&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Application</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(new&nbsp;class&nbsp;implements&nbsp;</span><span style="color: #0000BB">Logger&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;$msg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />});<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogger</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(class@anonymous)#2 (0) {
}
</pre></div>
   </div>
  </div>
  
  <p class="para">
   La documentación completa se puede encontrar en la
   <a href="language.oop5.anonymous.html" class="link">referencia de clases anónimas</a>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.unicode-codepoint-escape-syntax">
  <h3 class="title">Sintaxis de escape de puntos de códigos de Unicode</h3>
  
  <p class="para">
   Esta sintaxis toma un punto de código de Unicode en forma hexadecimal, e imprime ese
   punto de código en UTF-8 a un string con entrecomillado doble o a un heredoc. Se
   acepta cualquier punto de código válido, siendo los ceros iniciales opcionales.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
echo&nbsp;"\u{aa}";<br />echo&nbsp;"\u{0000aa}";<br />echo&nbsp;"\u{9999}";</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
ª
ª (lo mismo que antes pero con ceros iniciales opcinales)
香
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.closure-call-method">
  <h3 class="title"><span class="methodname"><a href="closure.call.html" class="methodname">Closure::call()</a></span></h3>
  
  <p class="para">
   <span class="methodname"><a href="closure.call.html" class="methodname">Closure::call()</a></span> es una manera más eficiente y abreviada
   de vincular temporalmente un ámbito de objeto a una clausura e invocarla.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{private&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Código&nbsp;anterior&nbsp;a&nbsp;PHP<br /></span><span style="color: #0000BB">$getXCB&nbsp;</span><span style="color: #007700">=&nbsp;function()&nbsp;{return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">x</span><span style="color: #007700">;};<br /></span><span style="color: #0000BB">$getX&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$getXCB</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindTo</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;clausura&nbsp;intermedia<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$getX</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Código&nbsp;de&nbsp;PHP&nbsp;7+<br /></span><span style="color: #0000BB">$getX&nbsp;</span><span style="color: #007700">=&nbsp;function()&nbsp;{return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">x</span><span style="color: #007700">;};<br />echo&nbsp;</span><span style="color: #0000BB">$getX</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">);</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
1
</pre></div>
   </div>
  </div>
 </div>
 <div class="sect2" id="migration70.new-features.filtered-unserialize">
  <h3 class="title">Filtros para <span class="function"><a href="function.unserialize.html" class="function">unserialize()</a></span></h3>
  
  <p class="para">
   Esta característica busca el proporcionar una mejor seguridad al deserializar objetos en
   datos no fiables. Previene de posibles inyecciones de código al capacitar al
   desarrollador a crear listas blancas de clases que deden ser deserializadas.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;convertir&nbsp;todos&nbsp;los&nbsp;objetos&nbsp;a&nbsp;un&nbsp;objeto&nbsp;__PHP_Incomplete_Class<br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">"allowed_classes"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;convertir&nbsp;todos&nbsp;los&nbsp;objetos&nbsp;a&nbsp;un&nbsp;objeto&nbsp;__PHP_Incomplete_Class&nbsp;excepto&nbsp;a&nbsp;los&nbsp;de&nbsp;MiClase&nbsp;y&nbsp;MiClase2<br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">"allowed_classes"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">"MiClase"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"MiClase2"</span><span style="color: #007700">]]);<br /><br /></span><span style="color: #FF8000">//&nbsp;comportamiento&nbsp;predeterminado&nbsp;(lo&nbsp;mismo&nbsp;que&nbsp;omitir&nbsp;el&nbsp;segundo&nbsp;argumento)&nbsp;que&nbsp;acepta&nbsp;todas&nbsp;las&nbsp;clases<br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,&nbsp;[</span><span style="color: #DD0000">"allowed_classes"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">]);</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.intlchar">
  <h3 class="title"><a href="class.intlchar.html" class="classname">IntlChar</a></h3>
  
  <p class="para">
   La nueva clase <a href="class.intlchar.html" class="classname">IntlChar</a> busca exponer funcionalidad
   adicional de ICU. La clase en sí define varios métodos estáticos y
   constantes que se pueden emplear para manipular caracteres Unicode.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'%x'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">CODEPOINT_MAX</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">charName</span><span style="color: #007700">(</span><span style="color: #DD0000">'@'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">ispunct</span><span style="color: #007700">(</span><span style="color: #DD0000">'!'</span><span style="color: #007700">));</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
10ffff
COMMERCIAL AT
bool(true)
</pre></div>
   </div>
  </div>
  
  <p class="para">
   Para utilizar esta clase debe estar instalada la extensión <a href="book.intl.html" class="link">Intl</a>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.expectations">
  <h3 class="title">Previsiones</h3>
  
  <p class="para">
   Las <a href="function.assert.html#function.assert.expectations" class="link">previsiones</a> son una
   mejora retrocompatible con la antigua función <span class="function"><a href="function.assert.html" class="function">assert()</a></span>.
   Con ellas se pueden realizar afirmaciones sin coste en código de producción,
   proporcionando la capacidad de lanzar excepciones personalizadas cuando la afirmación falla.
  </p>
  
  <p class="para">
   Mientras que la API antigua se siguie manteniendo por compatibilidad,
   <span class="function"><a href="function.assert.html" class="function">assert()</a></span> ahora es un constructor de lenguaje, permitiendo que el primer
   parámetro sea una expresión en lugar de solamente un <span class="type"><a href="language.types.string.html" class="type string">string</a></span> a
   evaluar o un valor de tipo <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span> a probar.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'assert.exception'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">ErrorPersonalizado&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AssertionError&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">ErrorPersonalizado</span><span style="color: #007700">(</span><span style="color: #DD0000">'Un&nbsp;mensaje&nbsp;de&nbsp;error'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Fatal error: Uncaught ErrorPersonalizado: Un mensaje de error
</pre></div>
   </div>
  </div>
  
  <p class="para">
   Se pueden encontrar los detalles completos de esta característica, incluyendo cómo
   configurarla tanto en entornos de desarrollo como de producción, en la
   <a href="function.assert.html#function.assert.expectations" class="link">sección de previsiones</a>
   de la referencia de <span class="function"><a href="function.assert.html" class="function">assert()</a></span>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.group-use-declarations">
  <h3 class="title">Declaraciones de <em>use</em> en grupo</h3>
  
  <p class="para">
   Las clases, funciones y constantes que se importen desde el mismo <a href="language.namespaces.definition.html" class="link"><em>namespace</em></a>
   ahora pueden ser agrupadas en una única sentencia <a href="language.namespaces.importing.html" class="link"><em>use</em></a>.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Código&nbsp;anterior&nbsp;a&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ClaseA</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ClaseB</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ClaseC&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /><br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_a</span><span style="color: #007700">;<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_b</span><span style="color: #007700">;<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">fn_c</span><span style="color: #007700">;<br /><br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstA</span><span style="color: #007700">;<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstB</span><span style="color: #007700">;<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\</span><span style="color: #0000BB">ConstC</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;código&nbsp;de&nbsp;PHP&nbsp;7+<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\{</span><span style="color: #0000BB">ClaseA</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ClaseA</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ClaseC&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">};<br />use&nbsp;function&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\{</span><span style="color: #0000BB">fn_a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">fn_b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">fn_c</span><span style="color: #007700">};<br />use&nbsp;const&nbsp;</span><span style="color: #0000BB">un</span><span style="color: #007700">\</span><span style="color: #0000BB">espacioDeNombres</span><span style="color: #007700">\{</span><span style="color: #0000BB">ConstA</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ConstB</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ConstC</span><span style="color: #007700">};<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.generator-return-expressions">
  <h3 class="title">Expresiones &#039;return&#039; en generadores</h3>
  
  <p class="para">
   Esta característica se basa en la funcionalidad de los generadores introducida en PHP 5.5.
   Habilita a la sentencia <em>return</em> para utilizarla dentro de
   un generador para que pueda devolver una expresión final (la devolución por
   referencia no está permitida). Este valor se puede obtener empleando el nuevo
   método <em>Generator::getReturn()</em>, el cual solamente se puede utilizar
   una vez que el generador ha finalizado de producir valores.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$gen&nbsp;</span><span style="color: #007700">=&nbsp;(function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />})();<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$gen&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">$gen</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getReturn</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
2
3
</pre></div>
   </div>
  </div>
  
  <p class="para">
   La capacidad de devolver explícitamente un valor final desde un generador
   (quizá desde una forma de computación de corutina) es útil debido a que puede ser
   específicamente manejado por el código del cliente que ejecuta el generador. Esto es mucho
   más simple que forzar al código del cliente a comprobar primero si el valor
   final se ha generado y luego, si es asi,
   manejar dicho valor específicamente.
  </p>
 </div>
 <div class="sect2" id="migration70.new-features.generator-delegation">
  <h3 class="title">Delegación de generadores</h3>
  
  <p class="para">
   Los generadores ahora pueden delegar a otro generador,
   objeto <a href="class.traversable.html" class="classname">Traversable</a> o <span class="type"><a href="language.types.array.html" class="type array">array</a></span>
   de forma automática, sin la necesidad de escribir «clichés» en el generador
   más externo con la construcción <a href="language.generators.syntax.html#control-structures.yield.from" class="link"><em>yield from</em></a>.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">gen</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;from&nbsp;gen2</span><span style="color: #007700">();<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">gen2</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">yield&nbsp;4</span><span style="color: #007700">;<br />}<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">gen</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
2
3
4
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.intdiv">
  <h3 class="title">División entera con <span class="function"><a href="function.intdiv.html" class="function">intdiv()</a></span></h3>
  
  <p class="para">
   La nueva función <span class="function"><a href="function.intdiv.html" class="function">intdiv()</a></span> realiza una división entera
   de sus operandos y la devuelve.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">intdiv</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo sería:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
int(3)
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.session-options">
  <h3 class="title">Opciones de sesión</h3>
  
  <p class="para">
   <span class="function"><a href="function.session-start.html" class="function">session_start()</a></span> ahora acepta un <span class="type"><a href="language.types.array.html" class="type array">array</a></span> de
   opciones que sobrescriben las
   <a href="session.configuration.html" class="link">directivas de configuración de sesiones</a>
   establecidas normalmente en php.ini.
  </p>
  
  <p class="para">
   Estas opciones también se han ampliado para admitir
   <a href="session.configuration.html#ini.session.lazy-write" class="link">session.lazy_write</a>, la cual está
   activada de forma predeterminada y causa que PHP solamente sobrescriba cualquier fichero de sesión si los
   datos de sesión han cambiado, y <em>read_and_close</em>, la cual es
   una opción que se puede pasar solo a <span class="function"><a href="function.session-start.html" class="function">session_start()</a></span> para
   indicar que los datos de sesión deberían ser leídos y luego la sesión debería
   ser cerrada inmediatamente sin cambios.
  </p>
  
  <p class="para">
   Por ejemplo, para establecer
   <a href="session.configuration.html#ini.session.cache-limiter" class="link">session.cache_limiter</a> a
   <em>private</em> e inmediatamente cerrar la sesión después de
   leerla:
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />session_start</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cache_limiter'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'private'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'read_and_close'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />]);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="migration70.new-features.preg-repace-callback-array-function">
  <h3 class="title"><span class="function"><a href="function.preg-replace-callback-array.html" class="function">preg_replace_callback_array()</a></span></h3>
  
  <p class="para">
   Con la nueva función <span class="function"><a href="function.preg-replace-callback-array.html" class="function">preg_replace_callback_array()</a></span>,
   el código escrito es más claro al emplear la
   función <span class="function"><a href="function.preg-replace-callback.html" class="function">preg_replace_callback()</a></span>. Antes de PHP 7,
   las retrollamadas que necesitaban ser ejecutadas por cada expresión regular requerían
   que la función de retrollamda fuera contaminada con muchas ramificaciones.
  </p>
  
  <p class="para">
   Ahora, las retrollamadas se pueden registrar para cada expresión regular usando un
   array asociativo, donde la clave es una expresión regular y el valor es una
   retrollamada.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.csprng-functions">
  <h3 class="title">Funciones de <a href="book.csprng.html" class="link">CSPRNG</a></h3>
  
  <p class="para">
   Se han añadido dos nuevas funciones para generar números enteros y cadenas de
   caractéres criptográficamente seguros de una forma multiplataforma:
   <span class="function"><a href="function.random-bytes.html" class="function">random_bytes()</a></span> y <span class="function"><a href="function.random-int.html" class="function">random_int()</a></span>.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.list-arrayaccess">
  <h3 class="title">
   <span class="function"><a href="function.list.html" class="function">list()</a></span> siempre desempaqueta objetos que implementen
   <a href="class.arrayaccess.html" class="classname">ArrayAccess</a>
  </h3>
  
  <p class="para">
   Anteriormente, no se garantizaba que <span class="function"><a href="function.list.html" class="function">list()</a></span> operase
   correctamente con objetos que implementasen <a href="class.arrayaccess.html" class="classname">ArrayAccess</a>.
   Esto ha sido arreglado.
  </p>
 </div>
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="migration70.incompatible.html">Cambios retroincompatibles</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="migration70.deprecated.html">Caracter&iacute;sticas obsoletas en PHP 7.0.x</a></div>
 <div class="up"><a href="migration70.html">Migrar de PHP 5.6.x a PHP 7.0.x</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
