<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Configuraci&oacute;n en tiempo de ejecuci&oacute;n</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.installation.html">Instalaci&oacute;n</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongo.constants.html">Constantes predefinidas</a></div>
 <div class="up"><a href="mongo.setup.html">Instalaci&oacute;n/Configuraci&oacute;n</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mongo.configuration" class="section">
 <h2 class="title">Configuración en tiempo de ejecución</h2>
 <p class="simpara">
El comportamiento de estas funciones se ve afectado por la configuración de <var class="filename">php.ini</var>.
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>Opciones de configuración de Mongo</strong></caption>
   
    <thead>
     <tr>
      <th>Nombre</th>
      <th>Por defecto</th>
      <th>Cambiable</th>
      <th>Historial de cambios</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.allow-empty-keys" class="link">mongo.allow_empty_keys</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.allow-persistent" class="link">mongo.allow_persistent</a></td>
      <td>1</td>
      <td>PHP_INI_ALL</td>
      <td>Eliminado en 1.2.0</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.chunk-size" class="link">mongo.chunk_size</a></td>
      <td>262144</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.cmd" class="link">mongo.cmd</a></td>
      <td>&quot;$&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.default-host" class="link">mongo.default_host</a></td>
      <td>&quot;localhost&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.default-port" class="link">mongo.default_port</a></td>
      <td>27017</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.is-master-interval" class="link">mongo.is_master_interval</a></td>
      <td>15</td>
      <td>PHP_INI_ALL</td>
      <td>Añadido en 1.2.10, antes de 1.3.0 el valor predeterminado era 60.</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.long-as-object" class="link">mongo.long_as_object</a></td>
      <td>o</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.native-long" class="link">mongo.native_long</a></td>
      <td>1</td>
      <td>PHP_INI_ALL</td>
      <td>Antes de la versión 1.5.0, el valor predeterminado era 0.</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.ping-interval" class="link">mongo.ping_interval</a></td>
      <td>5</td>
      <td>PHP_INI_ALL</td>
      <td>Añadido en 1.2.10</td>
     </tr>

     <tr>
      <td><a href="mongo.configuration.html#ini.mongo.utf8" class="link">mongo.utf8</a></td>
      <td>1</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

    </tbody>
   
  </table>

  Para más detalles y definiciones de los modos de
PHP_INI_*, vea <a href="configuration.changes.modes.html" class="xref">D&oacute;nde se puede realizar un ajuste de configuraci&oacute;n</a>.
 </p>
 
 <p class="para">He aquí una breve explicación de
las directivas de configuración.</p>
 
 <p class="para">
  <dl>

   
    <dt id="ini.mongo.allow-empty-keys">
     <code class="parameter">mongo.allow_empty_keys</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Añadido en la versión 1.0.11.
     </p>
     <p class="para">
      Si deberían permitirse las cadenas vacías (&quot;&quot;) como nombres de claves. Por omisión,
      el controlador lanzará una excepción si se intenta pasar la cadena vacía como
      una clave a la base de datos. Es extremadamente fácil hacer esto inadvertidamente
      usando comillas dobles con operadores $, por lo que se recomienda que se deje
      este ajuste predeterminado. Sin embargo, si se necesita guardar claves que son cadenas
      vacías, se puede establecer esta opción a true para que el controlador permita
      pasar cadenas vacías a la base de datos.
     </p>
    </dd>

     
   
   
    <dt id="ini.mongo.allow-persistent">
     <code class="parameter">mongo.allow_persistent</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Indica si se permiten o no conexiones persistentes. (Eliminado en 1.2.0 - ahora
      todas las conexiones son persistentes).
     </p>
    </dd>

     
   
   
    <dt id="ini.mongo.chunk-size">
     <code class="parameter">mongo.chunk_size</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      El número de bytes por bloque. Se usa al fragmentar ficheros GridFS. Este valor
      debe ser al menos 100 veces menor que 4 megabytes (máx: 4194204) y se recomienda
      que sea incluso menor.
     </p>
    </dd>

     
   
   
    <dt id="ini.mongo.cmd">
     <code class="parameter">mongo.cmd</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Un carácter que se utiliza en lugar de $ en los modificadores y comparaciones.
     </p>
     <p class="para">
      En vista de que es fácil olvidar escapar el carácter &quot;$&quot;, puede elegirse
      cualquier otro en su lugar. Escoja un carácter que no aparezca en sus
      nombres de clave, como por ejemplo &quot;:&quot;:
     </p>
     <div class="example-contents">
<div class="inicode"><pre class="inicode">mongo.cmd = &quot;:&quot;</pre>
</div>
     </div>

     <p class="para">
      Ahora, para hacer una comparación, sería:
     </p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$query&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">"i"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(&nbsp;</span><span style="color: #DD0000">":gt"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">":lte"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">30&nbsp;</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <p class="para">
      Puede cambiarse también en tiempo de ejecución usando
      <em>ini_set(&quot;mongo.cmd&quot;, &quot;:&quot;)</em>.  Por supuesto, también
      pueden usarse comillas simples o la barra \ para escapar el carácter $.
     </p>
    </dd>

   
   
   
    <dt id="ini.mongo.default-host">
     <code class="parameter">mongo.default_host</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Nombre de host predeterminaodo en caso de que no se especifique en el constructor.
     </p>
    </dd>

   
   
   
    <dt id="ini.mongo.default-port">
     <code class="parameter">mongo.default_port</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Puerto TCP predeterminado al conectar al servidor de bases de datos en caso
      de que no se especifique ningún puerto. El predeterminado para la base de datos es
      <em>27017</em>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mongo.is-master-interval">
     <code class="parameter">mongo.is_master_interval</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Añadido en la versión 1.2.10.
     </p>
     <p class="para">
      Para conexiones de conjuntos réplica: El intervalo mínimo con el que el controlador
      enviará peticiones &quot;isMaster&quot; al servidor MongoDB. Si el valor es bajo,
      existirán más peticiones, pero el controlador será más rápido si la
      topología del conjunto réplica ha sido cambiada.
     </p>
    </dd>

     
   
   
    <dt id="ini.mongo.long-as-object">
     <code class="parameter">mongo.long_as_object</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Devuelve un BSON_LONG como una instancia de <a href="class.mongoint64.html" class="classname">MongoInt64</a>
      (en lugar de usar el tipo primitivo).
     </p>
    </dd>

   
   
   
    <dt id="ini.mongo.native-long">
     <code class="parameter">mongo.native_long</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      <em class="emphasis">
       Este valor predeterminado ha cambiado a <strong><code>TRUE</code></strong> en 1.5.0, deberá
       asegurarse de establecer el valor deseado (probablemente <strong><code>TRUE</code></strong>) de
       manera que el comportamiento del controlador no se vea afectado al actualizarlo.
      </em>
     </p>
     <p class="para">
      En plataformas de 64 bits, el ajuste <em>mongo.native_long</em>
      permite almacenar enteros de 64 bits en MongoDB. Si no se habilita, sólo se
      podrán almacenar enteros de 32 bits. El tipo de dato MongoDB usado en
      este caso es el BSON LONG, en lugar del BSON INT, que es el que funciona
      cuando se deshabilita este ajuste.
     </p>
     <p class="para">
      Este ajuste también cambia el modo en que los tipos BSON LONG se comportan cuando se
      consultan en MongoDB. Cuando <em>mongo.native_long</em> no está habilitado,
      el driver convierte todos los BSON LONG al tipo double de PHP, por lo que podría
      provocar una pérdida de precisión.
     </p>
     <p class="para">
      En plataformas de 32 bits, el ajuste <em>mongo.native_log</em> no
      tiene efecto al almacenar enteros en MongoDB: los enteros se almacenan
      como BSON INT. Sin embargo, cuando este ajuste está habilitado y se consulta
      un tipo BSON LONG en MongDB, se emitirá una excepción
      <a href="class.mongocursorexception.html" class="classname">MongoCursorException</a> alertando de que los datos
      podrían no leerse sin pérdida de precisión.
     </p>
     <p class="para">
      Se recomienda que, en sistemas de 32 bits especialmente, se combine esto con
      la habilitación de <em>mongo.long_as_object</em>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mongo.ping-interval">
     <code class="parameter">mongo.ping_interval</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Añadido en la versión 1.2.10.
     </p>
     <p class="para">
      Para conexiones de conjuntos réplica: El intervalo mínimo con el que el controlador
      enviará peticiones &quot;ping&quot; al servidor MongoDB. Si el valor es bajo,
      existirán más pings, pero el controlador será más rápido si un nodo ya
      no sepuede recuperar del conjunto réplica.
     </p>
    </dd>

     
   
   
    <dt id="ini.mongo.utf8">
     <code class="parameter">mongo.utf8</code>
     <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
    </dt>

    <dd>

     <p class="para">
      Indica si se debe lanzar una excepción con cadenas que no sean UTF8. Hasta la versión
      1.0.4, el controlador de PHP ignoraba las cadenas que no eran UTF8, incluso cuando no
      se esperaba que se fueran a insertar. Desde 1.0.4, el controlador emite una
      <a href="class.mongoexception.html" class="classname">MongoException</a>. Para facilitar la transición en las 
      aplicaciones que insertan cadenas que no son UTF8, puede deshabiltiarse esta opción
      para emular el comportamiento anterior en el que no se emitían excepciones. Sin embargo, esta opción
      será eliminada en la versión 1.1.0, de manera que siempre se emitirán excepciones en
      textos que no son UTF8.
     </p>
    </dd>

   
   
  </dl>

 </p>
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.installation.html">Instalaci&oacute;n</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongo.constants.html">Constantes predefinidas</a></div>
 <div class="up"><a href="mongo.setup.html">Instalaci&oacute;n/Configuraci&oacute;n</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
