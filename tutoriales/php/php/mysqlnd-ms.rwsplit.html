<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Divisi&oacute;n de lectura-escritura</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-ms.loadbalancing.html">Equilibrado de carga</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-ms.filter.html">Filtro</a></div>
 <div class="up"><a href="mysqlnd-ms.concepts.html">Conceptos</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mysqlnd-ms.rwsplit" class="section">
  <h2 class="title">División de lectura-escritura</h2>
  <p class="para">
   El complemento ejecuta las senteciss de solo lectura en los esclavos MySQL cofigurados, y
   las demás consultas en el maestro MySQL. Una sentencia se
   considera de solo lectura si empieza con <em>SELECT</em>,
   con la sugerencia SQL <em>/*ms=slave*/</em>, o si un esclavo ha sido elegido para
   ejecutar la consulta anterior y la consulta empiza con la sugerencia SQL
   <em>/*ms=last_used*/</em>. El los demás casos, la consulta
   será enviada al servidor maestro de replicación MySQL. Se recomienda
   usar las constantes <strong><code>MYSQLND_MS_SLAVE_SWITCH</code></strong>,
   <strong><code>MYSQLND_MS_MASTER_SWITCH</code></strong> y <strong><code>MYSQLND_MS_LAST_USED_SWITCH</code></strong>
   en lugar de <em>/*ms=slave*/</em>. Véase también la
   <a href="mysqlnd-ms.constants.html" class="link">lista de constantes de mysqlnd_ms</a>.
  </p>
  <p class="para">
   Las sugerencias SQL son un tipo especial de comentarios que cumplen el estándar SQL. El
   complemento revisa cada sentencia en busca de ciertas sugerencias SQL. Las sugerencias SQL están
   descritas en la documentación de las <a href="mysqlnd-ms.constants.html" class="link">constantes de mysqlnd_ms</a>,
   constantes que son exportadas por la extensión. Otros sistemas involucrados
   en el procesamiento de sentencias, como el servidor MySQL, los cortafuegos SQL,
   y los proxys SQL, no se ven afectados por las sugerencias SQL, ya que estos sistemas están
   diseñados para ignorar los comentarios SQL.
  </p>
  <p class="para">
   El divisor de lectura-escritura interno puede ser reemplazado por un filtro definido por el usuario.
   Véase también la documentación de
   <a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.filter-user" class="link">filtros de usuario</a>.
  </p>
  <p class="para">
   Un divisor de lectura-escritura definido por el usuario puede solicitar la lógica interna para
   enviar una sentencia a una ubicación específica invocando a
   <span class="function"><strong>mysqlnd_ms_is_select()</strong></span>.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    El divisor de lectura-escritura interno no considera las sentencias múltiples.
    Éstas se ven como una sola sentencia. El divisor comprobará el
    comienzo de una sentencia para decidir dónde ejecutarla. Si, por ejemplo,
    una sentencia múltiple comienza con
    <em>SELECT 1 FROM DUAL; INSERT INTO test(id) VALUES (1); ...</em>
    el complemento la ejecutará en un esclavo aunque la sentencia no sea de solo lectura.
   </p>
  </p></blockquote>
 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-ms.loadbalancing.html">Equilibrado de carga</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-ms.filter.html">Filtro</a></div>
 <div class="up"><a href="mysqlnd-ms.concepts.html">Conceptos</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
