<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Crea una colecci&oacute;n</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongodb.construct.html">MongoDB::__construct</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongodb.createdbref.html">MongoDB::createDBRef</a></div>
 <div class="up"><a href="class.mongodb.html">MongoDB</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mongodb.createcollection" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoDB::createCollection</h1>
  <p class="verinfo">(PECL mongo &gt;=0.9.0)</p><p class="refpurpose"><span class="refname">MongoDB::createCollection</span> &mdash; <span class="dc-title">Crea una colección</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-mongodb.createcollection-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type"><a href="class.mongocollection.html" class="type MongoCollection">MongoCollection</a></span> <span class="methodname"><strong>MongoDB::createCollection</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   [, <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code></span>
  ] )</div>

  
  <p class="para rdfs-comment">
   Este método se usa para crear colecciones &quot;capped&quot; (de tamaño fijo) y otras colecciones que
   requieren opciones especiales. Es idéntico a ejecutar:
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$collection&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">command</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"create"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"capped"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">"capped"</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"size"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">"size"</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"max"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">"max"</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"autoIndexId"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">"autoIndexId"</span><span style="color: #007700">],<br />));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   Consulte <span class="function"><a href="mongodb.command.html" class="function">MongoDB::command()</a></span> para más información sobre comandos de base de datos.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-mongodb.createcollection-parameters">
  <h3 class="title">Parámetros</h3>
  
  <p class="para">
   <dl>

    
     <dt>

      <code class="parameter">name</code>
     </dt>

     <dd>

      <p class="para">
       Nombre de la colección.
      </p>
     </dd>

    
    
    
     <dt>

      <code class="parameter">options</code>
     </dt>

     <dd>

      <p class="para">
       Un array que contiene opciones para las colecciones. Cada opción es su propio
       elemento en el array de opciones, con el nombre de la opción enumerada abajo, siendo
       la clave del elemento. Las opciones admitidas dependen de la versión del servidor
       de MongoDB y del motor de almacenamiento, ya que el controlador pasa cualquier opción
       que se le proporcione directamente al servidor. Unas pocas de las opciones soportadas son las
       siguientes, aunque se puede encontrar una lista completa en la documentación principal de MongoDB en <a href="http://docs.mongodb.org/manual/method/db.createCollection/" class="link external">&raquo;&nbsp;createCollection</a>:
      </p>
      <p class="para">
       <dl>

        
         <dt>

          <code class="parameter">capped</code>
         </dt>

         <dd>

          <p class="para">
           Si la colección debería tener un tamaño fijo.
          </p>
         </dd>

           
        
         <dt>

          <code class="parameter">size</code>
         </dt>

         <dd>

          <p class="para">
           Si la colección fuera de tamaño fijo, aquí indicamos su tamaño en bytes.
          </p>
         </dd>

           
        
         <dt>

          <code class="parameter">max</code>
         </dt>

         <dd>

          <p class="para">
           Si la colección fuera de tamaño fijo, aquí establecemos el número máximo de
           elementos que podrá almacenar.
          </p>
         </dd>

           
        
         <dt>

          <code class="parameter">autoIndexId</code>
         </dt>

         <dd>

          <p class="para">
           Si &#039;capped&#039; es <strong><code>TRUE</code></strong>, se puede especificar <strong><code>FALSE</code></strong> para deshabilitar el
           índice atómico creado en el campo <em>_id</em>.
           Antes de MongoDB 2.2, el valor predeterminado para
           <em>autoIndexId</em> era <strong><code>FALSE</code></strong>.
          </p>
         </dd>

           
       </dl>

      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-mongodb.createcollection-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un objeto de colección que representa la nueva colección.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-mongodb.createcollection-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-1521">
   <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>MongoDB::createCollection()</strong></span> para colección de tamaño fijo</strong></p>
   <div class="example-contents"><p>
    Una colección &quot;capped&quot; es un tipo especial de colección que tiene un tamaño fijo
    o un número fijo de elementos. Una vez que la colección está &quot;llena&quot;, los elementos más
    viejos se eliminan cada vez que añadimos nuevos. Estas colecciones pueden ser muy
    útiles para usos como registro de mensajes, donde quizás se desee mantener
    una determinada cantidad de espacio para mensajes sin preocuparse por si
    crece demasiado.
   </p></div>
   <div class="example-contents"><p>
    Este ejemplo crea una colección de mensajes de error muy pequeña, que mantendrá hasta
    10 documentos.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$log&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createCollection</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"logger"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'capped'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">*</span><span style="color: #0000BB">1024</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'max'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">10<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">)<br />);<br /><br />for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$log</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"level"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">WARN</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"msg"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"mensaje&nbsp;de&nbsp;error&nbsp;#</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ts"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">()));<br />}<br /><br /></span><span style="color: #0000BB">$msgs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$log</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">();<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$msgs&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">[</span><span style="color: #DD0000">'msg'</span><span style="color: #007700">].</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo 
sería algo similar a:</p></div>
   <div class="example-contents screen"><br />
    mensaje de error #90<br />
    mensaje de error #91<br />
    mensaje de error #92<br />
    mensaje de error #93<br />
    mensaje de error #94<br />
    mensaje de error #95<br />
    mensaje de error #96<br />
    mensaje de error #97<br />
    mensaje de error #98<br />
    mensaje de error #99<br />
   </div>
  </div>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-mongodb.createcollection-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.4.0</td>
       <td>
        <p class="para">
         En versiones anteriores a la 1.4.0, las opciones eran todas argumentos del método. La
         sinopsis de la función en esas versiones antiguas es:
        </p>
        <p class="para">
         <div class="methodsynopsis dc-description">
          <span class="modifier">public</span> <span class="type"><a href="class.mongocollection.html" class="type MongoCollection">MongoCollection</a></span> <span class="methodname"><strong>MongoDB::createCollection</strong></span>
           ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
          [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$capped</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
          [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code><span class="initializer"> = 0</span></span>
          [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$max</code><span class="initializer"> = 0</span></span>
         ]]] )</div>

        </p>
        <p class="para">
         El significado de las opciones es el mismo que el descrito bajo el
         argumento <code class="parameter">options</code> de arriba.
        </p>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongodb.construct.html">MongoDB::__construct</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongodb.createdbref.html">MongoDB::createDBRef</a></div>
 <div class="up"><a href="class.mongodb.html">MongoDB</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
