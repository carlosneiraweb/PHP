<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Listado de opciones de contexto para SSL</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="context.ftp.html">Opciones de contexto para FTP</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="context.curl.html">Opciones de contexto para CURL</a></div>
 <div class="up"><a href="context.html">Opciones y par&aacute;metros de contexto</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="context.ssl" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Opciones de contexto para SSL</h1>
  <p class="refpurpose"><span class="refname">Opciones de contexto para SSL</span> &mdash; <span class="dc-title">Listado de opciones de contexto para SSL</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-context.ssl-description">
  <h3 class="title">Descripción</h3>
  <p class="para">
   Opciones de contexto para transportes <em>ssl://</em> y
   <em>tls://</em>
  </p>
 </div>

 
 <div class="refsect1 options" id="refsect1-context.ssl-options">
  <h3 class="title">Opciones</h3>
  <p class="para">
   <dl>

    
     <dt id="context.ssl.peer-name">
      <code class="parameter">peer_name</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Nombre del par a utilizar. Si no se establece este valor, se averigua
       basándose en el nombre del host empleado al abrir el flujo.
      </p>
     </dd>

    
    
     <dt id="context.ssl.verify-peer">
      <code class="parameter">verify_peer</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Requerir verificación del certificado SSL utilizado.
      </p>
      <p class="para">
       Por defecto es <strong><code>TRUE</code></strong>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.verify-peer-name">
      <code class="parameter">verify_peer_name</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Requerir verificación de nombre del par.
      </p>
      <p class="para">
       Por defecto es <strong><code>TRUE</code></strong>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.allow-self-signed">
      <code class="parameter">allow_self_signed</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Permite certificados auto-firmados. Requiere
       <a href="context.ssl.html#context.ssl.verify-peer" class="link"><code class="parameter">verify_peer</code></a>.
      </p>
      <p class="para">
       Por defecto es <strong><code>FALSE</code></strong>
      </p>
     </dd>

    
    
     <dt id="context.ssl.cafile">
      <code class="parameter">cafile</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Ubicación del archivo de la entidad emisora de certificados en el sistema de archivos local,
       la cual debe ser utilizada con la opción de contexto <em>verify_peer</em>
       para autenticar la identidad del par remoto.
      </p>
     </dd>

    
    
     <dt id="context.ssl.capath">
      <code class="parameter">capath</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Si no se específica <em>cafile</em> o si no se encuentra
       el certificado, el directorio al que apunta <em>capath</em>
       sera explorado en busca de un certificado apropiado. <em>capath</em>
       debe ser un directorio con el hash correcto.
      </p>
     </dd>

    
    
     <dt id="context.ssl.local-cert">
      <code class="parameter">local_cert</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Ruta hacia el archivo del certificado local en el sistema de archivos. Debe ser un
       archivo codificado con PEM el cual contenga el certificado y la llave privada.
       Puede, opcionalmente, contener la cadena de los emisores del certificado.
       La clave privada también podría estar contenida en un fichero aparte especificado
       por <em>local_pk</em>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.local-pk">
      <code class="parameter">local_pk</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Ruta a fichero de clave privada local del sistema de ficheros en caso ficheros
       separados para el certificado (<em>local_cert</em>) y la clave privada.
      </p>
     </dd>

    
    
     <dt id="context.ssl.passphrase">
      <code class="parameter">passphrase</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       La frase de contraseña con la cual el archivo <em>local_cert</em>
       fue codificado.
      </p>
     </dd>

    
    
     <dt id="context.ssl.cn-match">
      <code class="parameter">CN_match</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       El nombre común que se está esperando. PHP realizará comparaciones limitadas
       de comodines. Si el nombre común no coincide con esto, el intento
       de conexión fallará.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <span class="simpara">
        Esta opción está obsoleta a favor de <code class="parameter">peer_name</code>,
        a partir de PHP 5.6.0.
       </span>
      </p></blockquote>
     </dd>

    
    
     <dt id="context.ssl.verify-depth">
      <code class="parameter">verify_depth</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       Abortar si la cadena de certificados es demasiado profunda.
      </p>
      <p class="para">
       Por defecto es no verificarlo.
      </p>
     </dd>

    
    
     <dt id="context.ssl.ciphers">
      <code class="parameter">ciphers</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Establece la lista de sistemas de cifrado disponibles. El formato de la cadena se describe
       en <a href="http://www.openssl.org/docs/apps/ciphers.html#CIPHER_LIST_FORMAT" class="link external">&raquo;&nbsp;ciphers(1)</a>.
      </p>
      <p class="para">
       Por defecto es <em>DEFAULT</em>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.capture-peer-cert">
      <code class="parameter">capture_peer_cert</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Si se establece en <strong><code>TRUE</code></strong>, una opción de contexto <em>peer_certificate</em>
       será creada, conteniendo el certificado par.
      </p>
     </dd>

    
    
     <dt id="context.ssl.capture-peer-cert-chain">
      <code class="parameter">capture_peer_cert_chain</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Si se establece en <strong><code>TRUE</code></strong>, una opción de contexto <em>peer_certificate_chain</em>
       será creada, conteniendo la cadena del certificado.
      </p>
     </dd>

    
    
     <dt id="context.ssl.sni-enabled">
      <code class="parameter">SNI_enabled</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Si se establece en <strong><code>TRUE</code></strong>, la indicación del nombre del servidor se activará. Activando SNI
       se permiten múltiples certificados en la misma dirección IP.
      </p>
     </dd>

    
    
     <dt id="context.ssl.sni-server-name">
      <code class="parameter">SNI_server_name</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       Si se establece, entonces este valor se utilizará como nombre del servidor para la indicación
       de nombre de servidor. Si este valor no está establecido, entonces el nombre del servidor se supone
       basado en el nombre de host utilizado cuando se abre el flujo.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <span class="simpara">
        Esta opción está obsoleta a favor de <code class="parameter">peer_name</code>,
        a partir de PHP 5.6.0.
       </span>
      </p></blockquote>
     </dd>

    
    
     <dt id="context.ssl.disable-compression">
      <code class="parameter">disable_compression</code>
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
     </dt>

     <dd>

      <p class="para">
       Si está establecido, deshabilita la comprensión TLS. Esto puede ayudar a mitigar el vector
       de ataque CRIME. 
      </p>
     </dd>

    
    
     <dt id="context.ssl.peer-fingerprint">
      <code class="parameter">peer_fingerprint</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span> | <span class="type"><a href="language.types.array.html" class="type array">array</a></span>
     </dt>

     <dd>

      <p class="para">
       Aborta cuando el resumen del certificado remoto no coincide con el has
       especificado.
      </p>
      <p class="para">
       Cuando se emplea un <span class="type"><a href="language.types.string.html" class="type string">string</a></span>, la longitud determinará qué algoritmo hash
       se aplica, si &quot;md5&quot; (32) o &quot;sha1&quot; (40).
      </p>
      <p class="para">
       Cuando se emplea un <span class="type"><a href="language.types.array.html" class="type array">array</a></span>, las claves indican el nombre del algoritmo hash
       y cada valor correspondiente es el resumen previsto.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-context.ssl-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.6.0</td>
       <td>
        Se añadieron <code class="parameter">peer_fingerprint</code> and <code class="parameter">verify_peer_name</code>.
        El valor predeterminado de <code class="parameter">verify_peer</code> se cambió a <strong><code>TRUE</code></strong>.
       </td>
      </tr>

      <tr>
       <td>5.4.13</td>
       <td>
        Se añadió <code class="parameter">disable_compression</code>. Requiere OpenSSL &gt;= 1.0.0.
       </td>
      </tr>

      <tr>
       <td>5.3.2</td>
       <td>
        Se añadió <code class="parameter">SNI_enabled</code> y
        <code class="parameter">SNI_server_name</code>.
       </td>
      </tr>

      <tr>
       <td>5.0.0</td>
       <td>
        Se añadió <code class="parameter">capture_peer_cert</code>,
        <code class="parameter">capture_peer_chain</code>,
        <code class="parameter">ciphers</code> y
        <code class="parameter">local_pk</code>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 notes" id="refsect1-context.ssl-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Debido a que  <em>ssl://</em> el es transporte subyacente para las envolturas
    <a href="wrappers.http.html" class="link"><em>https://</em></a> y
    <a href="wrappers.ftp.html" class="link"><em>ftps://</em></a>,
    cualquier opción de contexto que aplique para <em>ssl://</em> también aplica para
    <em>https://</em> y <em>ftps://</em>.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Para que SNI (Server Name Indication) esté disponible, entonces PHP se debe compilar
    con OpenSSL 0.9.8j o superior. Se utiliza
    <strong><code>OPENSSL_TLSEXT_SERVER_NAME</code></strong> para determinar si SNI está
    soportado.
   </span>
  </p></blockquote>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-context.ssl-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="context.socket.html" class="xref">Opciones de contexto de sockets</a></li>
   </ul>
  </p>
 </div>

 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="context.ftp.html">Opciones de contexto para FTP</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="context.curl.html">Opciones de contexto para CURL</a></div>
 <div class="up"><a href="context.html">Opciones y par&aacute;metros de contexto</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
