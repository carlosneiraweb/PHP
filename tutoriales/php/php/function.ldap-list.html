<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>B&uacute;squeda de un solo nivel</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ldap-get-values.html">ldap_get_values</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ldap-mod-add.html">ldap_mod_add</a></div>
 <div class="up"><a href="ref.ldap.html">LDAP Funciones</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.ldap-list" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ldap_list</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">ldap_list</span> &mdash; <span class="dc-title">Búsqueda de un solo nivel</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ldap-list-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>ldap_list</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$link_identifier</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$base_dn</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$filter</code></span>
   [, <span class="methodparam"><span class="type">array</span> <code class="parameter">$attributes</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$attrsonly</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$sizelimit</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timelimit</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$deref</code></span>
  ]]]]] )</div>

  <p class="para rdfs-comment">
   Realiza la búsqueda de un <code class="parameter">filter</code> especificado en el
   directorio con el alcance de <strong><code>LDAP_SCOPE_ONELEVEL</code></strong>.
  </p>
  <p class="para">
   <strong><code>LDAP_SCOPE_ONELEVEL</code></strong> quiere decir que la búsqueda solamente debería
   devolver información que está en el nivel inmediatamente abajo de el
   <code class="parameter">base_dn</code> proporcionado en la llamada.
   (Equivalente a digitar &quot;<strong class="command">ls</strong>&quot; y obtener una lista de los ficheros y carpetas en el
   actual directorio de trabajo.)
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ldap-list-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">link_identifier</code></dt>

     <dd>

      <p class="para">
       Un identificador de enlace de LDAP, devuelto por <span class="function"><a href="function.ldap-connect.html" class="function">ldap_connect()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">base_dn</code></dt>

     <dd>

      <p class="para">
       El DN base para el directorio.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">filter</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">attributes</code></dt>

     <dd>

      <p class="para">
       Un array de atributos requeridos, por ejemplo array(&quot;correo&quot;, &quot;sn&quot;, &quot;cn&quot;).
       Tenga en cuenta que &quot;dn&quot; siempre es devuelto independientemente de qué tipos de atributos
       lo soliciten.
      </p>
      <p class="para">
       Utilizando este parámetro es mucho más eficiente que la acción predeterminada
       (la cual es devolver todos los atributos y sus valores asociados). 
       Por lo tanto, el uso de este parámetro debería ser considerado una buena
       práctica.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">attrsonly</code></dt>

     <dd>

      <p class="para">
       Debería ser establecido a 1 solamente si los tipos de atributo son solicitados. Si se establece a 0
       se devuelven los tipos de atributos y los valores de los atributos lo cual es el comportamiento
       predeterminado.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">sizelimit</code></dt>

     <dd>

      <p class="para">
       Te permite limitar el conteo de entradas a devolver. Al establecer esto a 0
       significa que no hay límite.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <p class="para">
        Este parámetro NO puede prevalecer sobre el sizelimit preestablecido en el lado del servidor. Puede aún
        establecerlo a uno más bajo.
       </p>
       <p class="para">
        Algunos equipos de servidor de directorio serán configurados para devolver no mas que
        un número preestablecido de entradas. Si esto ocurre, el servidor indicará
        que sólo ha devuelto un conjunto de resultados parciales. Esto también ocurre si
        utiliza este parámetro para limitar el conteo de entradas devueltas.
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">timelimit</code></dt>

     <dd>

      <p class="para">
       Establece el número de segundos de cuánto tiempo pasa en la búsqueda. Poniendo
       esto a 0 siginifica que no hay límite.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <p class="para">
        Este parámetro NO puede prevalecer sobre el timelimit preestablecido en el lado del servidor. Puede aún
        establecerlo a uno más bajo.
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">deref</code></dt>

     <dd>

      <p class="para">
       Especifica cuántos alias deberían ser manejados durante la búsqueda. Este puede ser
       uno de los siguientes:
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <strong><code>LDAP_DEREF_NEVER</code></strong> - (predeterminado) Los alias nunca son
          dereferenciados.
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LDAP_DEREF_SEARCHING</code></strong> - Los alias deberían ser
          dereferenciados durante la búsqueda pero no cuando se está ubicando el objeto base
          de la búsqueda.
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LDAP_DEREF_FINDING</code></strong> - Los alias deberían ser
          dereferenciados cuando se está ubicando el objeto base pero no durante la búsqueda.
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LDAP_DEREF_ALWAYS</code></strong> - Los alias siempre deberían ser dereferenciados.
         </span>
        </li>
       </ul>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ldap-list-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un identificador de resultado de búsqueda, o <strong><code>FALSE</code></strong> en caso de error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.ldap-list-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.0.5</td>
       <td>
        Ha sido agregado el soporte de búsquedas en paralelo. Vea 
        <span class="function"><a href="function.ldap-search.html" class="function">ldap_search()</a></span> para más detalles.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ldap-list-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-4905">
    <p><strong>Ejemplo #1 Producir una lista de todas las unidades organizacionales de una organización</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;$ds&nbsp;es&nbsp;un&nbsp;identificador&nbsp;de&nbsp;enlace&nbsp;válido&nbsp;para&nbsp;un&nbsp;servidor&nbsp;de&nbsp;directorio<br /><br /></span><span style="color: #0000BB">$basedn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"o=Mi&nbsp;Compañía,&nbsp;c=US"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$justthese&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"ou"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$sr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ldap_list</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$basedn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ou=*"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$justthese</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ldap_get_entries</span><span style="color: #007700">(</span><span style="color: #0000BB">$ds</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sr</span><span style="color: #007700">);<br /><br />for&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">"count"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">"ou"</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ldap-list-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ldap-search.html" class="function" rel="rdfs-seeAlso">ldap_search()</a> - Buscar el &aacute;rbol LDAP</span></li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ldap-get-values.html">ldap_get_values</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ldap-mod-add.html">ldap_mod_add</a></div>
 <div class="up"><a href="ref.ldap.html">LDAP Funciones</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
