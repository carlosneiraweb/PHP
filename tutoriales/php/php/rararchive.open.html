<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Abre un archivo RAR</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="rararchive.issolid.html">RarArchive::isSolid</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="rararchive.setallowbroken.html">RarArchive::setAllowBroken</a></div>
 <div class="up"><a href="class.rararchive.html">RarArchive</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="rararchive.open" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">RarArchive::open</h1>
  <h1 class="refname">rar_open</h1>
  <p class="verinfo">(PECL rar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">RarArchive::open</span> -- <span class="refname">rar_open</span> &mdash; <span class="dc-title">Abre un archivo RAR</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-rararchive.open-description">
  <h3 class="title">Descripción</h3>
  <p class="para">Estilo orientado a objetos (método):</p>
   <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type"><a href="class.rararchive.html" class="type RarArchive">RarArchive</a></span> <span class="methodname"><strong>RarArchive::open</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code><span class="initializer"> = NULL</span></span>
   [, <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$volume_callback</code><span class="initializer"> = NULL</span></span>
   ]] )</div>

  <p class="para rdfs-comment">Estilo por procedimientos:</p>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="class.rararchive.html" class="type RarArchive">RarArchive</a></span> <span class="methodname"><strong>rar_open</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code><span class="initializer"> = NULL</span></span>
   [, <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$volume_callback</code><span class="initializer"> = NULL</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Abre un archivo RAR especificado y devuelve la instancia <span class="type"><a href="class.rararchive.html" class="type RarArchive">RarArchive</a></span> que lo representa.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Si el archivo a abrir esta dividido en volúmenes, se deberá pasar la ruta del primer volúmen como parámetro de la función.
    De lo contrario, no todos los archivos se mostraran.
   </p>
  </p></blockquote>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-rararchive.open-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       Ruta del archivo Rar.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">password</code></dt>

     <dd>

      <p class="para">
       Contraseña en texto plano, si fuera necesario descifrar la cabecera del archivo. También se utilizará por defecto si
       hay archivos encriptados encontrados. Tenga en cuenta que los archivos pueden poseer diferentes contraseñas en cuanto
       a las cabeceras y entre ellos.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">volume_callback</code></dt>

     <dd>

      <p class="para">
       Una función que recibe como parámetro la ruta del volúmen que no fue encontrado
       y retorna una cadena con la ruta correcta para dicho archivo o <strong><code>NULL</code></strong>
       si el volúmen no existe o no es conocido.
       El programador debería asegurar que la función pasada no cause bucles, ya que esta función es
       llamada repetidas veces si la ruta devuelta en una llamada previa no corresponde
       con el volúmen solicitado. Especificando este parámetro se omite
       la notice que se emitiría cuando un volúmen no es encontrado; una implementación que solo devuelva <strong><code>NULL</code></strong> 
       puede, por lo tanto, utilizarce para omitir dichos notices.
      </p>
     </dd>

    
   </dl>

  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="para">
    En versiones menores a 2.0.0 de PHP, ­esta función no manejaria rutas
    relativas correctamente. Use <span class="function"><a href="function.realpath.html" class="function">realpath()</a></span> como una solución.
   </p>
  </div>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-rararchive.open-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una instancia del <span class="type"><a href="class.rararchive.html" class="type RarArchive">RarArchive</a></span> solicitado  o <strong><code>FALSE</code></strong> en caso de error.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-rararchive.open-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>3.0.0</td>
       <td>
        <code class="parameter">volume_callback</code> fue agregada.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-rararchive.open-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-837">
    <p><strong>Ejemplo #1 Estilo orientado a objetos</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$rar_arch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">RarArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #DD0000">'encrypted_headers.rar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'samplepassword'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$rar_arch&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;opening&nbsp;file"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$rar_arch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEntries</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;fetching&nbsp;entries"</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Found&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;files.\n"</span><span style="color: #007700">;<br /><br />if&nbsp;(empty(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"No&nbsp;valid&nbsp;entries&nbsp;found."</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">getStream</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;opening&nbsp;first&nbsp;file"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$rar_arch</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Content&nbsp;of&nbsp;first&nbsp;one&nbsp;follows:\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">stream_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo 
sería algo similar a:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Found 2 files.
Content of first one follows:
Encrypted file 1 contents.
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-838">
    <p><strong>Ejemplo #2 Estilo por procedimientos</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$rar_arch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rar_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'encrypted_headers.rar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'samplepassword'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$rar_arch&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;opening&nbsp;file"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rar_list</span><span style="color: #007700">(</span><span style="color: #0000BB">$rar_arch</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$entries&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;fetching&nbsp;entries"</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Found&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;files.\n"</span><span style="color: #007700">;<br /><br />if&nbsp;(empty(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"No&nbsp;valid&nbsp;entries&nbsp;found."</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$entries</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">getStream</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;opening&nbsp;first&nbsp;file"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">rar_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$rar_arch</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Content&nbsp;of&nbsp;first&nbsp;one&nbsp;follows:\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">stream_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-839">
    <p><strong>Ejemplo #3 Volume Callback</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;En&nbsp;este&nbsp;ejemplo,&nbsp;hay&nbsp;un&nbsp;volúmen&nbsp;llamdo&nbsp;multi_broken.part1.rar<br />&nbsp;*&nbsp;cuyo&nbsp;próximo&nbsp;volúmen&nbsp;es&nbsp;llamado&nbsp;multi.part2.rar&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">resolve</span><span style="color: #007700">(</span><span style="color: #0000BB">$vol</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/_broken/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$vol</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'_broken'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$vol</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$rar_file1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rar_open</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/multi_broken.part1.rar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'resolve'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$entry&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$rar_file1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEntry</span><span style="color: #007700">(</span><span style="color: #DD0000">'file2.txt'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$entry</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"/temp_file2.txt"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-rararchive.open-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="wrappers.rar.html" class="link"><em>rar://</em> wrapper</a></li>
   </ul>
  </p>
 </div>

 
 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="rararchive.issolid.html">RarArchive::isSolid</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="rararchive.setallowbroken.html">RarArchive::setAllowBroken</a></div>
 <div class="up"><a href="class.rararchive.html">RarArchive</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
