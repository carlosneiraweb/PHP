<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>La clase MongoLog</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.miscellaneous.html">Miscel&aacute;nea</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongolog.getcallback.html">MongoLog::getCallback</a></div>
 <div class="up"><a href="mongo.miscellaneous.html">Miscel&aacute;nea</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="class.mongolog" class="reference">
 
 <h1 class="title">La clase MongoLog</h1>
 
 
 <div class="partintro"><p class="verinfo">(PECL mongo &gt;=1.2.3)</p>
  
  
  <div class="section" id="mongolog.intro">
   <h2 class="title">Introducción</h2>
   <p class="para">
    El registro se puede usar para obetner información detallada de lo que está haciendo
    el controlador. El registro está desactivado de forma predeterminada, aunque esta clase permite activar
    niveles de registro específicos para determinadas áreas del controlador. Algunos ejemplos:los:
   </p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;muestra&nbsp;todos&nbsp;los&nbsp;mensajes&nbsp;posibles<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setLevel</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">ALL</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;todos&nbsp;los&nbsp;niveles&nbsp;de&nbsp;registros<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setModule</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">ALL</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;todas&nbsp;las&nbsp;partes&nbsp;del&nbsp;driver<br /><br />//&nbsp;muestra&nbsp;eventos&nbsp;significativos&nbsp;sobre&nbsp;fallos&nbsp;en&nbsp;conjuntos&nbsp;de&nbsp;réplicas<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setLevel</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">INFO</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setModule</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">RS</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;muestra&nbsp;registros&nbsp;de&nbsp;nivel&nbsp;de&nbsp;información&nbsp;y&nbsp;diagnóstico&nbsp;para&nbsp;conjuntos&nbsp;de&nbsp;réplicas&nbsp;y&nbsp;conexiones<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setLevel</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">INFO</span><span style="color: #007700">|</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">FINE</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">setModule</span><span style="color: #007700">(</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">RS</span><span style="color: #007700">|</span><span style="color: #0000BB">MongoLog</span><span style="color: #007700">::</span><span style="color: #0000BB">CON</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     Por omisión, MongoLog emite todos los mensajes de registro como avisos de PHP. Dependiendo
     de la <acronym title="Server Application Programming Interface">SAPI</acronym> que se use, los mensajes podrían enviarse a
     <em>stderr</em> (para <acronym title="Command Line Interpreter/Interface">CLI</acronym>) o al registro de errores
     del servidor web. Si, después de configurar MongoLog, los mensajes de registro no aparecen
     como se esperaba, asegúrese de que el bit de <strong><code>E_NOTICE</code></strong> está incluido
     den <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> y de que
     <a href="errorfunc.configuration.html#ini.display-errors" class="link">display_errors</a> esté activado.
    </p>
   </p></blockquote>
  </div>
  
  
  <div class="section" id="mongolog.synopsis">
   <h2 class="title">Sinopsis de la Clase</h2>
   
   
   <div class="classsynopsis">
    <div class="ooclass"></div>
    
    
    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">MongoLog</strong>
     </span>
     {</div>
    
    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constantes */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.none"><var class="varname">NONE</var></a></var>
     <span class="initializer"> = 0</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.all"><var class="varname">ALL</var></a></var>
     <span class="initializer"> = 31</span>
    ;</div>

    
    <div class="classsynopsisinfo">constantes de niveles {</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.warning"><var class="varname">WARNING</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.info"><var class="varname">INFO</var></a></var>
     <span class="initializer"> = 2</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.fine"><var class="varname">FINE</var></a></var>
     <span class="initializer"> = 4</span>
    ;</div>

    
    <div class="classsynopsisinfo">constantes de módulos {</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.rs"><var class="varname">RS</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.pool"><var class="varname">POOL</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.con"><var class="varname">CON</var></a></var>
     <span class="initializer"> = 2</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.io"><var class="varname">IO</var></a></var>
     <span class="initializer"> = 4</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.server"><var class="varname">SERVER</var></a></var>
     <span class="initializer"> = 8</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="class.mongolog.html#mongolog.constants.parse"><var class="varname">PARSE</var></a></var>
     <span class="initializer"> = 16</span>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Campos */</div>
    <div class="fieldsynopsis">
     <span class="modifier">private</span>
     <span class="modifier">static</span>
     <span class="type">int</span>
      <var class="varname">$<var class="varname">callback</var></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">private</span>
     <span class="modifier">static</span>
     <span class="type">int</span>
      <var class="varname">$<var class="varname">level</var></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">private</span>
     <span class="modifier">static</span>
     <span class="type">int</span>
      <var class="varname">$<var class="varname">module</var></var>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Métodos */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">callable</span> <span class="methodname"><a href="mongolog.getcallback.html" class="methodname">getCallback</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">int</span> <span class="methodname"><a href="mongolog.getlevel.html" class="methodname">getLevel</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">int</span> <span class="methodname"><a href="mongolog.getmodule.html" class="methodname">getModule</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">void</span> <span class="methodname"><a href="mongolog.setcallback.html" class="methodname">setCallback</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$log_function</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">void</span> <span class="methodname"><a href="mongolog.setlevel.html" class="methodname">setLevel</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$level</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">void</span> <span class="methodname"><a href="mongolog.setmodule.html" class="methodname">setModule</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$module</code></span>
   )</div>

   }</div>
   
   
  </div>
  
  <div class="section">
   <h2 class="title">Constantes predefinidas</h2>
   <div class="section" id="mongolog.constants.types">
    <h2 class="title">Constantes de MongoLog</h2>
    <p class="para">
     Estas constantes pueden usarse tanto por
     <span class="function"><a href="mongolog.setlevel.html" class="function">MongoLog::setLevel()</a></span> como por
     <span class="function"><a href="mongolog.setmodule.html" class="function">MongoLog::setModule()</a></span>.
    </p>
    
    <dl>

     
      <dt id="mongolog.constants.none"><strong><code>MongoLog::NONE</code></strong></dt>

      <dd>

       <span class="simpara">
        No registrar nada.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.all"><strong><code>MongoLog::ALL</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar todo.
       </span>
      </dd>

     
    </dl>

   </div>
   
   <div class="section" id="mongolog.constants.level">
    <h2 class="title">Constantes de Nivel de MongoLog</h2>
    <p class="para">
     Estas constantes pueden usarse por <span class="function"><a href="mongolog.setlevel.html" class="function">MongoLog::setLevel()</a></span>.
    </p>
    <dl>

     
      <dt id="mongolog.constants.warning"><strong><code>MongoLog::WARNING</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar eventos que son excepcionales de algún modo, aunque no lo suficiente como
        las excepciones reales (p.ej. errores de conexión recuperables).
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.info"><strong><code>MongoLog::INFO</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar eventos que podrían ser de interés para el administrador, aunque no
        particularmente notables (p.ej. análisis de opciones, pasos de autentiación).
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.fine"><strong><code>MongoLog::FINE</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar la mayoría de los eventos que realiza el controlador (p.ej. selección de un servidor, comunicación con
        socket). Dependiendo del módulo a registrar, esto puede ser
        extremadamente ruidoso, por lo que es principalmente útil para depuración.
       </span>
      </dd>

     
    </dl>

   </div>
   
   <div class="section" id="mongolog.constants.module">
    <h2 class="title">Constantes de módulos de MongoLog</h2>
    <p class="para">
     Estas constantes pueden usarse por <span class="function"><a href="mongolog.setmodule.html" class="function">MongoLog::setModule()</a></span>.
    </p>
    <dl>

     
      <dt id="mongolog.constants.con"><strong><code>MongoLog::CON</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar actividades de conexión. Crear nuevas conexiones, autenticación,
        ping tiempos límite, etc.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.io"><strong><code>MongoLog::IO</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar el tráfico generado de y desde la base de datos. A no ser que se trate de un programa trivial,
        esto creará un gran volumen de registros.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.parse"><strong><code>MongoLog::PARSE</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar el análisis de string de conexiones y opciones cuando se construye
        <a href="class.mongoclient.html" class="classname">MongoClient</a>.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.pool"><strong><code>MongoLog::POOL</code></strong></dt>

      <dd>

       <span class="simpara">
        Anteriormente usada para registrar la actividad de agrupaciones de conexiones. Esta opción ahora es
        un alias obsoleto de <strong><code>MongoLog::RS</code></strong>.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.rs"><strong><code>MongoLog::RS</code></strong></dt>

      <dd>

       <span class="simpara">
        Registrar la actividad de conjuntos de réplicas. Tolerancia a fallos, selección de preferencias de lectura, etc.
       </span>
      </dd>

     
     
      <dt id="mongolog.constants.server"><strong><code>MongoLog::SERVER</code></strong></dt>

      <dd>

       <span class="simpara">
        Anteriormente usada para registrar cambios de estado del servidor. Esta opción está obsoleta
        en favor de <strong><code>MongoLog::RS</code></strong>.
       </span>
      </dd>

     
    </dl>

   </div>
  </div>
  
  <div class="section">
   <h2 class="title">Historial de cambios</h2>
   <p class="para">
    <table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Versión</th>
        <th>Descripción</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>1.3.0</td>
        <td>
         Se añadió <strong><code>MongoLog::CON</code></strong> y está obsoletas
         <strong><code>MongoLog::POOL</code></strong> y
         <strong><code>MongoLog::SERVER</code></strong>.
        </td>
       </tr>

      </tbody>
     
    </table>

   </p>
  </div>
  
 </div>
 
 






















































 
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_reference"><li><a href="mongolog.getcallback.html">MongoLog::getCallback</a> — Obtiene la funci&oacute;n de retrollamada establecida anteriormente</li><li><a href="mongolog.getlevel.html">MongoLog::getLevel</a> — Obtiene el nivel o niveles que est&aacute;n siendo registrados</li><li><a href="mongolog.getmodule.html">MongoLog::getModule</a> — Devuelve el m&oacute;dulo o m&oacute;dulos que se est&aacute;n registrando actualmente</li><li><a href="mongolog.setcallback.html">MongoLog::setCallback</a> — Establece una funci&oacute;n de retrollamada para ser invocada por eventos</li><li><a href="mongolog.setlevel.html">MongoLog::setLevel</a> — Establece el nivel o niveles a registrar</li><li><a href="mongolog.setmodule.html">MongoLog::setModule</a> — Establece el m&oacute;dulo o m&oacute;dulos a registrar</li></ul>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.miscellaneous.html">Miscel&aacute;nea</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongolog.getcallback.html">MongoLog::getCallback</a></div>
 <div class="up"><a href="mongo.miscellaneous.html">Miscel&aacute;nea</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
