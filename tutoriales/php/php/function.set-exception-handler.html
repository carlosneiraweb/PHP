<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Establece una funci&oacute;n de gesti&oacute;n de excepciones definida por el usuario</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.set-error-handler.html">set_error_handler</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.trigger-error.html">trigger_error</a></div>
 <div class="up"><a href="ref.errorfunc.html">Funciones de Manejo de Errores</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.set-exception-handler" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">set_exception_handler</h1>
  <p class="verinfo">(PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">set_exception_handler</span> &mdash; <span class="dc-title">
   Establece una función de gestión de excepciones definida por el usuario
  </span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.set-exception-handler-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <span class="methodname"><strong>set_exception_handler</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$exception_handler</code></span>
   )</div>

  <p class="para rdfs-comment">
   Establece el manejador de excepciones predeterminado si una excepción no es capturada dentro de un
   bloque try/catch. La ejecución se detendrá después de la
   llamada a <code class="parameter">exception_handler</code>.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.set-exception-handler-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">exception_handler</code></dt>

     <dd>

      <p class="para">
       Nombre de la función a llamar cuando ocurra una excepción no capturada.
       Es necesario que esta función de gestión
       acepte un parámetro, que será el objeto de excepción que
       fue lanzado. Esta es la firma del manejador:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type"><span class="type void">void</span></span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type"><a href="class.exception.html" class="type Exception">Exception</a></span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
      <p class="para">
       Desde PHP 7, la mayoría de los errores se notifican lanzando excepciones
       <a href="class.error.html" class="classname">Error</a>, las cuales serán también capturadas por el manejador. <a href="class.error.html" class="classname">Error</a>
       y <a href="class.exception.html" class="classname">Exception</a> implementan la interfaz <a href="class.throwable.html" class="classname">Throwable</a>.
       Esta es la signatura del manejador desde PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type"><span class="type void">void</span></span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type"><a href="class.throwable.html" class="type Throwable">Throwable</a></span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
      <p class="para">
       Se podría pasar <strong><code>NULL</code></strong> en su lugar para reiniciar este manejador a su estado predeterminado.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="para">
        Observe que al proporcionar una <a href="class.exception.html" class="classname">Exception</a> explícita como
        tipo implicado al parámetro <code class="parameter">ex</code> en una retrollamada causará
        problemas con la jerarquía de excepciones cambiada en PHP 7.
       </p>
      </div>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.set-exception-handler-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre del manejador de excepciones definido anteriormente, o <strong><code>NULL</code></strong> en caso de error. Si
   no se definió un manejador anterior también devolverá <strong><code>NULL</code></strong>.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.set-exception-handler-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        Cambiado el tipo de parámetro pasado a <code class="parameter">exception_handler</code>
        de <a href="class.exception.html" class="classname">Exception</a> a <a href="class.throwable.html" class="classname">Throwable</a>
       </td>
      </tr>

      <tr>
       <td>5.5.0</td>
       <td>
        Anteriormente, si se pasaba <strong><code>NULL</code></strong>, esta función devolvía <strong><code>TRUE</code></strong>.
        Devuelve el manejador anterior desde PHP 5.5.0.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.set-exception-handler-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-516">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>set_exception_handler()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">manejador_excepciones</span><span style="color: #007700">(</span><span style="color: #0000BB">$excepción</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Excepción&nbsp;no&nbsp;capturada:&nbsp;"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$excepción</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">set_exception_handler</span><span style="color: #007700">(</span><span style="color: #DD0000">'manejador_excepciones'</span><span style="color: #007700">);<br /><br />throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Excepción&nbsp;No&nbsp;Capturada'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"No&nbsp;Ejecutado\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.set-exception-handler-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.restore-exception-handler.html" class="function" rel="rdfs-seeAlso">restore_exception_handler()</a> - Restaura la funci&oacute;n de gesti&oacute;n de excepciones previamente definida</span></li>
    <li class="member"><span class="function"><a href="function.restore-error-handler.html" class="function" rel="rdfs-seeAlso">restore_error_handler()</a> - Recupera la funci&oacute;n de gesti&oacute;n de errores previa</span></li>
    <li class="member"><span class="function"><a href="function.error-reporting.html" class="function" rel="rdfs-seeAlso">error_reporting()</a> - Establece cu&aacute;les errores de PHP son notificados</span></li>
    <li class="member"> información acerca de tipos de <a href="language.pseudo-types.html#language.types.callback" class="link">llamada de retorno</a></li>
    <li class="member"><a href="language.exceptions.html" class="link">Excepciones de PHP 5</a></li>
   </ul>
  </p>
 </div>

 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.set-error-handler.html">set_error_handler</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.trigger-error.html">trigger_error</a></div>
 <div class="up"><a href="ref.errorfunc.html">Funciones de Manejo de Errores</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
