<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Actualiza el estado de todos los hosts asociados</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongoclient.getconnections.html">MongoClient::getConnections</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongoclient.getreadpreference.html">MongoClient::getReadPreference</a></div>
 <div class="up"><a href="class.mongoclient.html">MongoClient</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mongoclient.gethosts" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoClient::getHosts</h1>
  <p class="verinfo">(PECL mongo &gt;=1.3.0)</p><p class="refpurpose"><span class="refname">MongoClient::getHosts</span> &mdash; <span class="dc-title">Actualiza el estado de todos los hosts asociados</span></p>

 </div>

 <div id="mongoclient.gethosts-soft-deprecation-notice" class="soft-deprecation-notice">
  <p class="para">Esta extenisón que define este método
está obsoleta. En su lugar debe usarse la extensión <a href="set.mongodb.html" class="link">MongoDB</a>.
Las alternativas a este método son:</p>
  <ul class="simplelist">
   <li class="member"><span class="methodname"><a href="mongodb-driver-manager.getservers.html" class="methodname">MongoDB\Driver\Manager::getServers()</a></span></li>
  </ul>
 </div>
 
 <div class="refsect1 description" id="refsect1-mongoclient.gethosts-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><strong>MongoClient::getHosts</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  
  <p class="para rdfs-comment">
   Este método solamente es útil con una conexión a un conjunto de réplica. Devuelve
   el estado de todos los hosts del conjunto. Sin un conjunto de réplica, solamente
   devolverá un array con un elemento que contiene el host al que se está
   conectado.
  </p>
  
  <p class="para">
   Véase <a href="mongo.queries.html" class="link">la sección de consultas</a> de este manula para
   información sobre la distribución de lecturas a secundarios.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-mongoclient.gethosts-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">Esta función no tiene parámetros.</p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-mongoclient.gethosts-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array con la información sobre los hosts del conjunto. Incluye el
   nombre de cada host, su salud (1 para saludable), su estado (1 para primario, 2 para
   secundairo, 0 para lo demás), el tiempo que toma en realizar un &#039;ping&#039; al
   servidor, y cúando ocurrió el último &#039;ping&#039;. Por ejemplo, en un conjunto de réplica
   de tres miembros, el array podría parecerse a esto:
  </p>
  <div class="example-contents screen">
<div class="returnvaluescode"><pre class="returnvaluescode">array(3) {
  [&quot;A:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;A&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(2)
    [&quot;ping&quot;]=&gt;
    int(369)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
  [&quot;B:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;B&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(1)
    [&quot;ping&quot;]=&gt;
    int(139)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
  [&quot;C:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;C&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(2)
    [&quot;ping&quot;]=&gt;
    int(1012)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
}</pre>
</div>
  </div>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-mongoclient.gethosts-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.2.10</td>
       <td>
        <p class="para">
         Se añadió el soporte para hosts que no pertenecen a un conjunto de réplica.
        </p>
        <p class="para">
         Los elementos del array devuelto ahora también incluyen
         <em>hostname</em> y <em>port</em>.
        </p>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-mongoclient.gethosts-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="mongoclient.getconnections.html" class="function" rel="rdfs-seeAlso">MongoClient::getConnections()</a> - Devuelve informaci&oacute;n sobre todas las conexiones abiertas</span></li>
  </ul>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongoclient.getconnections.html">MongoClient::getConnections</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongoclient.getreadpreference.html">MongoClient::getReadPreference</a></div>
 <div class="up"><a href="class.mongoclient.html">MongoClient</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
