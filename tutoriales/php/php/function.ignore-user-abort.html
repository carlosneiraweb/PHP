<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Establecer si la desconexi&oacute;n de un cliente deber&iacute;a abortar la ejecuci&oacute;n del script</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.highlight-string.html">highlight_string</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pack.html">pack</a></div>
 <div class="up"><a href="ref.misc.html">Funciones Varias</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.ignore-user-abort" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ignore_user_abort</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">ignore_user_abort</span> &mdash; <span class="dc-title">Establecer si la desconexión de un cliente debería abortar la ejecución del script</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ignore-user-abort-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>ignore_user_abort</strong></span>
    ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$value</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   Establece si la desconexión de un cliente deberia ocasionar que el script sea abortado.
  </p>
  <p class="para">
   Cuando se ejecuta PHP como un script de línea de comandos, y el tty del script
   se marcha sin que el script haya finalizado, el script morirá la
   siguiente vez que se intente escribir algo, a menos que
   <code class="parameter">value</code> esté establecido a <strong><code>TRUE</code></strong>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ignore-user-abort-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       Si se establece, esta función establecerá la configuración ini de <a href="misc.configuration.html#ini.ignore-user-abort" class="link">ignore_user_abort</a>
       al valor dado por <code class="parameter">value</code>. Si no, esta función sólo
       devolverá la configuración previa sin cambiarla.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ignore-user-abort-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la configuración previa, como un valor de tipo integer.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ignore-user-abort-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-4326">
    <p><strong>Ejemplo #1 Un ejemplo <span class="function"><strong>ignore_user_abort()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Ignorar&nbsp;los&nbsp;abortos&nbsp;hechos&nbsp;por&nbsp;el&nbsp;usuario&nbsp;y&nbsp;permitir&nbsp;que&nbsp;el&nbsp;script<br />//&nbsp;se&nbsp;ejecute&nbsp;para&nbsp;siempre<br /></span><span style="color: #0000BB">ignore_user_abort</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">set_time_limit</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">'Probando&nbsp;la&nbsp;gestión&nbsp;de&nbsp;conexión&nbsp;de&nbsp;PHP'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Ejecutar&nbsp;un&nbsp;bucle&nbsp;que&nbsp;hará,&nbsp;con&nbsp;suerte,<br />//&nbsp;que&nbsp;hagamos&nbsp;clic&nbsp;fuera&nbsp;de&nbsp;la<br />//&nbsp;página&nbsp;o&nbsp;en&nbsp;el&nbsp;botón&nbsp;"Parar".<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;¿Falló&nbsp;la&nbsp;conexión?<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">connection_status</span><span style="color: #007700">()&nbsp;!=&nbsp;</span><span style="color: #0000BB">CONNECTION_NORMAL</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Dormir&nbsp;durante&nbsp;10&nbsp;segundos<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Si&nbsp;se&nbsp;alcanza&nbsp;esto,&nbsp;el&nbsp;'break'&nbsp;<br />//&nbsp;fue&nbsp;provocado&nbsp;desde&nbsp;dentro&nbsp;del&nbsp;bucle&nbsp;while<br /><br />//&nbsp;Por&nbsp;lo&nbsp;que&nbsp;aquí&nbsp;podemos&nbsp;realizar&nbsp;una&nbsp;anotazión,&nbsp;o&nbsp;cualquier&nbsp;tarea<br />//&nbsp;que&nbsp;necesitemos&nbsp;sin&nbsp;ser&nbsp;dependientes&nbsp;realmente&nbsp;del<br />//&nbsp;navegador.<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.ignore-user-abort-notes">
  <h3 class="title">Notas</h3>
  <p class="para">
   PHP no detectará que el usuario abortó la conexión hasta que
   se haga un intento de enviar información al cliente. Usar simplemente
   una sentencia echo no garantiza que la información sea enviada, veáse
   <span class="function"><a href="function.flush.html" class="function">flush()</a></span>. 
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ignore-user-abort-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.connection-aborted.html" class="function" rel="rdfs-seeAlso">connection_aborted()</a> - Verifica si el cliente se desconect&oacute;</span></li>
    <li class="member"><span class="function"><a href="function.connection-status.html" class="function" rel="rdfs-seeAlso">connection_status()</a> - Devuelve el campo de bits de status de conexi&oacute;n</span></li>
    <li class="member">
     <a href="features.connection-handling.html" class="link">Manejo de Conexiones</a>
     para una descripción completa del manejo de conexiones de PHP.
    </li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.highlight-string.html">highlight_string</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pack.html">pack</a></div>
 <div class="up"><a href="ref.misc.html">Funciones Varias</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
