<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Uso b&aacute;sico de SimpleXML</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="simplexml.examples.html">Ejemplos</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="simplexml.examples-errors.html">Tratar con los errores XML</a></div>
 <div class="up"><a href="simplexml.examples.html">Ejemplos</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="simplexml.examples-basic" class="section">
  <h2 class="title">Uso básico de SimpleXML</h2>
  <p class="para">
   Muchos ejemplos en esta referencia requieren un string XML. En vez de
   repetir este string en cada ejemplo, se ha puesto en un fichero que se
   incluye en cada ejemplo. Este fichero se muestra en la siguiente sección de
   ejemplo. Alternativamente, puede crearse un documento XML y leerlo con
   <span class="function"><a href="function.simplexml-load-file.html" class="function">simplexml_load_file()</a></span>.
  </p>
  <p class="para">
   <div class="example" id="example-6036">
    <p><strong>Ejemplo #1 El fichero ejemplo.php a incluir con el string XML</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$xmlstr&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;XML<br /></span><span style="color: #DD0000">&lt;?xml&nbsp;version='1.0'&nbsp;standalone='yes'?&gt;<br />&lt;peliculas&gt;<br />&nbsp;&lt;pelicula&gt;<br />&nbsp;&nbsp;&lt;titulo&gt;PHP:&nbsp;Tras&nbsp;el&nbsp;Analilzador&lt;/titulo&gt;<br />&nbsp;&nbsp;&lt;personajes&gt;<br />&nbsp;&nbsp;&nbsp;&lt;personaje&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;nombre&gt;Srta.&nbsp;Programadora&lt;/nombre&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;actor&gt;Onlivia&nbsp;Actora&lt;/actor&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/personaje&gt;<br />&nbsp;&nbsp;&nbsp;&lt;personaje&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;nombre&gt;Sr.&nbsp;Programador&lt;/nombre&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;actor&gt;El&nbsp;Act&amp;#211;r&lt;/actor&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/personaje&gt;<br />&nbsp;&nbsp;&lt;/personajes&gt;<br />&nbsp;&nbsp;&lt;argumento&gt;<br />&nbsp;&nbsp;&nbsp;Así&nbsp;que,&nbsp;este&nbsp;lenguaje.&nbsp;Es&nbsp;como,&nbsp;un&nbsp;lenguaje&nbsp;de&nbsp;programación.&nbsp;¿O&nbsp;es&nbsp;un<br />&nbsp;&nbsp;&nbsp;lenguaje&nbsp;de&nbsp;script?&nbsp;Lo&nbsp;descubrirás&nbsp;en&nbsp;esta&nbsp;intrigante&nbsp;y&nbsp;temible&nbsp;parodia<br />&nbsp;&nbsp;&nbsp;de&nbsp;un&nbsp;documental.<br />&nbsp;&nbsp;&lt;/argumento&gt;<br />&nbsp;&nbsp;&lt;grandes-frases&gt;<br />&nbsp;&nbsp;&nbsp;&lt;frase&gt;PHP&nbsp;soluciona&nbsp;todos&nbsp;los&nbsp;problemas&nbsp;web&lt;/frase&gt;<br />&nbsp;&nbsp;&lt;/grandes-frases&gt;<br />&nbsp;&nbsp;&lt;puntuacion&nbsp;tipo="votos"&gt;7&lt;/puntuacion&gt;<br />&nbsp;&nbsp;&lt;puntuacion&nbsp;tipo="estrellas"&gt;5&lt;/puntuacion&gt;<br />&nbsp;&lt;/pelicula&gt;<br />&lt;/peliculas&gt;<br /></span><span style="color: #007700">XML;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   La simplicidad de SimpleXML se ve claramente cuando se extrae un string o
   un número de un documento XMl básico.
   <div class="example" id="example-6037">
    <p><strong>Ejemplo #2 Obtener <em>&lt;argumento&gt;</em></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">argumento</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>

   Así que, este lenguaje. Es como, un lenguaje de programación. ¿O es un
   lenguaje de script? Lo descubrirás en esta intrigante y temible parodia
   de un documental.

</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   El acceso a elementos dentro de un documento XML que contiene caracteres no permitidos
   por la convención de nombres de PHP (p.ej., el guión) puede realizarse encapsulando el
   nombre del elemento dentro de un par de llaves y comillas simples.
   <div class="example" id="example-6038">
    <p><strong>Ejemplo #3 Obtener <em>&lt;frase&gt;</em></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">-&gt;{</span><span style="color: #DD0000">'grandes-frases'</span><span style="color: #007700">}-&gt;</span><span style="color: #0000BB">frase</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
PHP soluciona todos los problemas web
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6039">
    <p><strong>Ejemplo #4 Acceder a elementos no únicos en SimpleXML</strong></p>
    <div class="example-contents"><p>
     Cuando existen múltiples instancias de un elemento como hijos de un único
     elemento padre, se aplican las técnicas normales de iteración.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Para&nbsp;cada&nbsp;&lt;personaje&gt;,&nbsp;se&nbsp;muestra&nbsp;cada&nbsp;&lt;nombre&gt;.&nbsp;*/<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">personajes</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">personaje&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombre</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;interpretado&nbsp;por&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">actor</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Srta. Programadora interpretado por Onlivia Actora
Sr. Programador interpretado por El ActÓr
</pre></div>
    </div>
   </div>
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Las propiedades (<em>$peliculas-&gt;pelicula</em> en el ejemplo anterior)
    no son arrays. Son objetos <a href="class.iterator.html" class="link">iterables</a>
    y <a href="class.arrayaccess.html" class="link">accesibles</a>.
   </p>
  </p></blockquote>
  <p class="para">
   <div class="example" id="example-6040">
    <p><strong>Ejemplo #5 Utilizar atributos</strong></p>
    <div class="example-contents"><p>
     Hasta aquí, únicamente se ha cubierto el trabajo de leer nombres de elementos
     y sus valores. SimpleXML puede también acceder a los atributos de los elementos.
     Para acceder a ellos, se realiza como si fuesen elementos de un
     <span class="type"><a href="language.types.array.html" class="type array">array</a></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Acceder&nbsp;a&nbsp;los&nbsp;nodos&nbsp;&lt;puntuacion&gt;&nbsp;de&nbsp;la&nbsp;primera&nbsp;película.<br />&nbsp;*&nbsp;Mostrar&nbsp;la&nbsp;escala&nbsp;de&nbsp;puntuación&nbsp;también.&nbsp;*/<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">puntuacion&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$puntuacion</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;switch((string)&nbsp;</span><span style="color: #0000BB">$puntuacion</span><span style="color: #007700">[</span><span style="color: #DD0000">'tipo'</span><span style="color: #007700">])&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;Obtener&nbsp;los&nbsp;atributos&nbsp;como&nbsp;índices&nbsp;del&nbsp;elemento<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #DD0000">'votos'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$puntuacion</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;votos&nbsp;positivos'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">'estrellas'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$puntuacion</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;estrellas'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
7 votos positivos5 estrellas
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6041">
    <p><strong>Ejemplo #6 Comparar elementos y atributos con texto</strong></p>
    <div class="example-contents"><p>
     Para comparar un elemento o atributo con un string o pasarlo a una
     función que requiera un string, debe realizarse una conversión a string empleando
     <em>(string)</em>. De lo contrario, PHP trata al elemento como un objeto.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br />if&nbsp;((string)&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titulo&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'PHP:&nbsp;Tras&nbsp;el&nbsp;Analilzador'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'Mi&nbsp;película&nbsp;favorita.'</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">((string)&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titulo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Mi película favorita.PHP: Tras el Analilzador
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6042">
    <p><strong>Ejemplo #7 Comparar dos elementos</strong></p>
    <div class="example-contents"><p>
     Dos SimpleXMLElements son considerados distintos incluso cuando ambos apuntan
     al mismo elemento desde PHP 5.2.0.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$pelicula1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$pelicula2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$pelicula1&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$pelicula2</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;falso&nbsp;desde&nbsp;PHP&nbsp;5.2.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
bool(false)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6043">
    <p><strong>Ejemplo #8 Utilizar XPath</strong></p>
    <div class="example-contents"><p>
     SimpleXML incorpora soporte para <acronym title="XML Path Language">XPath</acronym>.
     Para encontrar todos los elementos <em>&lt;personaje&gt;</em>:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xpath</span><span style="color: #007700">(</span><span style="color: #DD0000">'//personaje'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombre&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;interpretado&nbsp;por&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">actor</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     &#039;<em>//</em>&#039; actúa como un comodín. Para especificar una ruta
     absoluta, hay que omitir una de las dos barras.
    </p></div>
    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Srta. Programadora interpretado por Onlivia Actora
Sr. Programador interpretado por El ActÓr
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6044">
    <p><strong>Ejemplo #9 Establecer valores</strong></p>
    <div class="example-contents"><p>
     Los datos en SimpleXML no tienen que ser constantes. El objeto permite
     que se manipulen todos sus elementos.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">personajes</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">personaje</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">nombre&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Srta.&nbsp;Programadora'</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">asXML</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;
&lt;peliculas&gt;
 &lt;pelicula&gt;
  &lt;titulo&gt;PHP: Tras el Analilzador&lt;/titulo&gt;
  &lt;personajes&gt;
   &lt;personaje&gt;
    &lt;nombre&gt;Srta. Programadora&lt;/nombre&gt;
    &lt;actor&gt;Onlivia Actora&lt;/actor&gt;
   &lt;/personaje&gt;
   &lt;personaje&gt;
    &lt;nombre&gt;Sr. Programador&lt;/nombre&gt;
    &lt;actor&gt;El Act&amp;#xD3;r&lt;/actor&gt;
   &lt;/personaje&gt;
  &lt;/personajes&gt;
  &lt;argumento&gt;
   Así que, este lenguaje. Es como, un lenguaje de programación. ¿O es un
   lenguaje de script? Lo descubrirás en esta intrigante y temible parodia
   de un documental.
  &lt;/argumento&gt;
  &lt;grandes-frases&gt;
   &lt;frase&gt;PHP soluciona todos los problemas web&lt;/frase&gt;
  &lt;/grandes-frases&gt;
  &lt;puntuacion tipo=&quot;votos&quot;&gt;7&lt;/puntuacion&gt;
  &lt;puntuacion tipo=&quot;estrellas&quot;&gt;5&lt;/puntuacion&gt;
 &lt;/pelicula&gt;
&lt;/peliculas&gt;
+</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6045">
    <p><strong>Ejemplo #10 Añadir elementos y atributos</strong></p>
    <div class="example-contents"><p>
     Desde PHP 5.1.3, SimpleXML tiene la capacidad de añadir fácilmente hijos
     y atributos.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'ejemplo.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$peliculas&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleXMLElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$xmlstr</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$personaje&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">personajes</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addChild</span><span style="color: #007700">(</span><span style="color: #DD0000">'personaje'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addChild</span><span style="color: #007700">(</span><span style="color: #DD0000">'nombre'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Sr.&nbsp;Analizador'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$personaje</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addChild</span><span style="color: #007700">(</span><span style="color: #DD0000">'actor'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'John&nbsp;Doe'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$puntuacion&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pelicula</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">addChild</span><span style="color: #007700">(</span><span style="color: #DD0000">'puntuacion'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Todos&nbsp;los&nbsp;públicos'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$puntuacion</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addAttribute</span><span style="color: #007700">(</span><span style="color: #DD0000">'tipo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'clasificacion'</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$peliculas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">asXML</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
&lt;?xml version=&quot;1.0&quot; standalone=&quot;yes&quot;?&gt;
&lt;peliculas&gt;
 &lt;pelicula&gt;
  &lt;titulo&gt;PHP: Tras el Analizador&lt;/titulo&gt;
  &lt;personajes&gt;
   &lt;personaje&gt;
    &lt;nombre&gt;Srta. Programadora&lt;/nombre&gt;
    &lt;actor&gt;Onlivia Actora&lt;/actor&gt;
   &lt;/personaje&gt;
   &lt;personaje&gt;
    &lt;nombre&gt;Sr. Programador&lt;/nombre&gt;
    &lt;actor&gt;El Actor&lt;/actor&gt;
   &lt;/personaje&gt;
  &lt;personaje&gt;&lt;nombre&gt;Sr. Analizador&lt;/nombre&gt;&lt;actor&gt;John Doe&lt;/actor&gt;&lt;/personaje&gt;&lt;/personajes&gt;
  &lt;argumento&gt;
   Así que, este lenguaje. Es como, un lenguaje de programación. ¿O es un
   lenguaje de script? Lo descubrirás en esta intrigante y temible parodia
   de un documental.
  &lt;/argumento&gt;
  &lt;grandes-frases&gt;
   &lt;frase&gt;PHP soluciona todos los problemas web&lt;/frase&gt;
  &lt;/grandes-frases&gt;
  &lt;puntuacion tipo=&quot;votos&quot;&gt;7&lt;/puntuacion&gt;
  &lt;puntuacion tipo=&quot;estrellas&quot;&gt;5&lt;/puntuacion&gt;
  &lt;puntuacion tipo=&quot;clasificacion&quot;&gt;Todos los públicos&lt;/puntuacion&gt;
 &lt;/pelicula&gt;
&lt;/peliculas&gt;
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6046">
    <p><strong>Ejemplo #11 Interoperatibilidad con DOM</strong></p>
    <div class="example-contents"><p>
     PHP tiene un mecanismo para convertir nodos XML entre los formatos
     SimpleXML y DOM. Este ejemplo muestra cómo cambiar un elemento DOM a
     SimpleXML.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$dom&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DOMDocument</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$dom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">loadXML</span><span style="color: #007700">(</span><span style="color: #DD0000">'&lt;libros&gt;&lt;libro&gt;&lt;titulo&gt;bla&lt;/titulo&gt;&lt;/libro&gt;&lt;/libros&gt;'</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$dom</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Error&nbsp;al&nbsp;analizar&nbsp;el&nbsp;documento'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">simplexml_import_dom</span><span style="color: #007700">(</span><span style="color: #0000BB">$dom</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">libro</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">titulo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
bla
</pre></div>
    </div>
   </div>
  </p>
 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="simplexml.examples.html">Ejemplos</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="simplexml.examples-errors.html">Tratar con los errores XML</a></div>
 <div class="up"><a href="simplexml.examples.html">Ejemplos</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
