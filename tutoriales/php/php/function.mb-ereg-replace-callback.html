<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Realiza una b&uacute;squeda y sustituci&oacute;n de una expresi&oacute;n regular con soporte multibyte usando una llamada de retorno</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mb-ereg-match.html">mb_ereg_match</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mb-ereg-replace.html">mb_ereg_replace</a></div>
 <div class="up"><a href="ref.mbstring.html">Funciones de cadenas de caracteres multibyte</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mb-ereg-replace-callback" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mb_ereg_replace_callback</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.1, PHP 7)</p><p class="refpurpose"><span class="refname">mb_ereg_replace_callback</span> &mdash; <span class="dc-title">Realiza una búsqueda y sustitución de una expresión regular con soporte multibyte usando una llamada de retorno
  </span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.mb-ereg-replace-callback-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>mb_ereg_replace_callback</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>
   , <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$option</code><span class="initializer"> = &quot;msr&quot;</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Examina <code class="parameter">string</code> para buscar coincidencias con
   <code class="parameter">pattern</code>, luego reemplaza el texto coincidente
   con la salida de la función <code class="parameter">callback</code>.  
  </p>
  <p class="para">
   El comportamiento de esta función es casi idéntico al de <span class="function"><a href="function.mb-ereg-replace.html" class="function">mb_ereg_replace()</a></span>, 
   excepto que en lugar del parámetro
   <code class="parameter">replacement</code>, se debería especificar una llamada de retorno dada por
   <code class="parameter">callback</code>.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.mb-ereg-replace-callback-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">
       El patrón de la expresión regular.
      </p>
      <p class="para">
       Se pueden usar caracteres multibyes en <code class="parameter">pattern</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       Una llamada de retorno que será invocada y se le proporcionará un array de elementos coincidentes
       en el string  <code class="parameter">subject</code>. La llamada de retorno debería
       devolver el string de sustitución.
      </p>
      <p class="para">
       A menudo será necearia la función <code class="parameter">callback</code>
       para una <span class="function"><strong>mb_ereg_replace_callback()</strong></span> en un sólo lugar.
       En este caso se puede usar una
       <a href="functions.anonymous.html" class="link">función anónima</a> para
       declarar una llamada de retorno dentro de la llamada a
       <span class="function"><strong>mb_ereg_replace_callback()</strong></span>. De esta manera
       se tendrá toda la información para la llamada en un lugar para no
       abarrotar el espacion de nombres de funciones con un nombre de de una función de llamada
       de retorno que no se usará.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       El <span class="type"><a href="language.types.string.html" class="type string">string</a></span> a comprobar.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">option</code></dt>

     <dd>

      <p class="para">
       Las condiciones de comparación se pueden establecer por el parámetro
       <code class="parameter">option</code>. Si se especifica <em>i</em> para este
       parámetro, no se tendrán en cuenta las mayúsculas/minúsculas. Si se especifica
       <em>x</em>, se ingorarán los espacios en blanco. Si se especifica
       <em>m</em>, la comparación se ejecutará en modo multilínea y se incluirán
       los saltos de línea en &#039;.&#039;. Si se especifica <em>p</em>,
       la comparación se ejecutará en modo POSIX, por lo que los saltos de línea
       se cosiderarán como caracteres normales. Observe que <em>e</em>
       no se puede usar en <span class="function"><strong>mb_ereg_replace_callback()</strong></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.mb-ereg-replace-callback-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El <span class="type"><a href="language.types.string.html" class="type string">string</a></span> resultante en caso de éxito, o <strong><code>FALSE</code></strong> en caso de error.
  </p>
 </div>

 
 <div class="refsect1 notes" id="refsect1-function.mb-ereg-replace-callback-notes">
  <h3 class="title">Notas</h3>
  
  <blockquote class="note"><p><strong class="note">Nota</strong>: <p class="para">La codificación interna o 
la codificación especificada por <span class="function"><a href="function.mb-regex-encoding.html" class="function">mb_regex_encoding()</a></span>
será usada en esta función.</p></p></blockquote>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.mb-ereg-replace-callback-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-3009">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>mb_ereg_replace_callback()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;este&nbsp;texto&nbsp;se&nbsp;uso&nbsp;en&nbsp;2002<br />//&nbsp;queremos&nbsp;obtener&nbsp;esto&nbsp;para&nbsp;fechas&nbsp;hasta&nbsp;2003<br /></span><span style="color: #0000BB">$texto&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"El&nbsp;día&nbsp;de&nbsp;los&nbsp;Santos&nbsp;Inocentes&nbsp;es&nbsp;el&nbsp;28/12/2002\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$texto</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"Las&nbsp;últimas&nbsp;navidades&nbsp;fueron&nbsp;el&nbsp;24/12/2001\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;la&nbsp;función&nbsp;de&nbsp;llamada&nbsp;de&nbsp;retonro<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">siguiente_año</span><span style="color: #007700">(</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;como&nbsp;siempre:&nbsp;$coincidencias[0]&nbsp;es&nbsp;la&nbsp;coincidencia&nbsp;completa<br />&nbsp;&nbsp;//&nbsp;$coincidencias[1]&nbsp;la&nbsp;coincidencia&nbsp;para&nbsp;el&nbsp;primer&nbsp;subpatrón<br />&nbsp;&nbsp;//&nbsp;encerrado&nbsp;entre&nbsp;'(...)',&nbsp;etc.<br />&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">].(</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]+</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br />echo&nbsp;</span><span style="color: #0000BB">mb_ereg_replace_callback</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"(\d{2}/\d{2}/)(\d{4})"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"siguiente_año"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$texto</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
El día de los Santos Inocentes es el 28/12/2003
Las últimas navidades fueron el 24/12/2002
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-3010">
    <p><strong>Ejemplo #2 <span class="function"><strong>mb_ereg_replace_callback()</strong></span> usando una función anónima
     admitida en PHP 5.3.0 o posterior</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;este&nbsp;texto&nbsp;se&nbsp;uso&nbsp;en&nbsp;2002<br />//&nbsp;queremos&nbsp;obtener&nbsp;esto&nbsp;para&nbsp;fechas&nbsp;hasta&nbsp;2003<br /></span><span style="color: #0000BB">$texto&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"El&nbsp;día&nbsp;de&nbsp;los&nbsp;Santos&nbsp;Inocentes&nbsp;es&nbsp;el&nbsp;28/12/2002\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$texto</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"Las&nbsp;últimas&nbsp;navidades&nbsp;fueron&nbsp;el&nbsp;24/12/2001\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">mb_ereg_replace_callback</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"(\d{2}/\d{2}/)(\d{4})"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;(</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">].(</span><span style="color: #0000BB">$coincidencias</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]+</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$texto</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.mb-ereg-replace-callback-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mb-regex-encoding.html" class="function" rel="rdfs-seeAlso">mb_regex_encoding()</a> - Establecer/obtener la codificaci&oacute;n de caracteres para expresiones regulares multibyte</span></li>
    <li class="member"><span class="function"><a href="function.mb-ereg-replace.html" class="function" rel="rdfs-seeAlso">mb_ereg_replace()</a> - Reemplaza una expresi&oacute;n regular con soprte multibyte</span></li>
    <li class="member"><a href="functions.anonymous.html" class="link">Funciones anónimas</a></li>
    <li class="member"> información acerca de tipos de <a href="language.pseudo-types.html#language.types.callback" class="link">llamada de retorno</a></li>
   </ul>
  </p>
 </div>

 
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mb-ereg-match.html">mb_ereg_match</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mb-ereg-replace.html">mb_ereg_replace</a></div>
 <div class="up"><a href="ref.mbstring.html">Funciones de cadenas de caracteres multibyte</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
